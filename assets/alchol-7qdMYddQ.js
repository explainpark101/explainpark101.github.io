import{a as e,n as t,r as n,s as r,t as i}from"./useConfirmDialog-BTaWnpz-.js";import{C as ee,D as a,E as o,M as s,O as c,S as l,T as te,_ as u,b as d,d as f,f as p,h as m,k as h,l as g,m as _,o as v,u as ne,v as re,w as ie,y}from"./index-ANXj39xr.js";import{t as ae}from"./_plugin-vue_export-helper-9n1O4nl6.js";function b(){let e=e=>{e&&(e.style.height=`auto`,e.style.height=e.scrollHeight+`px`)};return{autoGrowTextarea:e,applyAutoGrowToRefs:async t=>{await y(),t.forEach(t=>{t.value&&e(t.value)})},handleAutoGrow:t=>{e(t.target)}}}var oe={class:`jungsan-alchol-container`},se={class:`d-flex`},ce={style:{display:`flex`,"justify-content":`space-between`,"align-items":`center`}},le={style:{display:`flex`,"align-items":`center`,"justify-content":`end`,gap:`0.2rem`,"flex-wrap":`wrap`}},ue={class:`input-group-values`},de={class:`input-group`},fe={class:`input-group`},pe={class:`input-group`},me={class:`input-group-table`},x={class:`input-group-cell`},S={class:`input-group-cell`},he={class:`input-group-cell`},ge={class:`input-group-cell`},_e={class:`support-per-person`},ve={class:`result-table`},ye=[`href`,`download`],be={class:`dialog-title`},xe={class:`dialog-message`},Se={class:`dialog-actions`},C=`jungsanFormData-alchol`,w=ae({__name:`index`,setup(ae){let w=c(0),T=c(0),E=c(0),D=c(0),O=c(0),k=c(0),A=c(0),j=c(``),M=c(``),N=c(``),P=c(``),F=c(null),I=c(null),L=c(null),R=c(null),z=c(null),B=c(null),{showDialog:Ce,dialogTitle:we,dialogMessage:Te,dialogRef:Ee,confirmButtonRef:De,isAlert:Oe,showConfirm:V,showAlert:H,handleConfirm:U,handleCancel:W,handleDialogClick:G}=i(),ke=()=>({totalSupport:w.value,memberDrink:D.value,guestDrink:O.value,memberNoDrink:k.value,guestNoDrink:A.value,foodPrice:T.value,alcoholPrice:E.value,memberDrinkMemo:j.value||``,guestDrinkMemo:M.value||``,memberNoDrinkMemo:N.value||``,guestNoDrinkMemo:P.value||``}),K=async e=>{w.value=e.totalSupport||0,D.value=e.memberDrink||0,O.value=e.guestDrink||0,k.value=e.memberNoDrink||0,A.value=e.guestNoDrink||0,T.value=e.foodPrice||0,E.value=e.alcoholPrice||0,j.value=e.memberDrinkMemo||``,M.value=e.guestDrinkMemo||``,N.value=e.memberNoDrinkMemo||``,P.value=e.guestNoDrinkMemo||``,await Z([L,R,z,B])},{saveToLocalStorage:Ae,loadFromLocalStorage:je,tryRestoreFromQuery:Me,shareLink:q,clearStorage:Ne,isRestoring:Pe}=r(C,ke,K,V,H),{downloadLink:Fe,downloadUrl:Ie,downloadFilename:Le,fileInput:Re,exportJson:J,importJson:Y,handleFileImport:X}=t(C,K,e,H),{applyAutoGrowToRefs:Z,handleAutoGrow:Q}=b(),ze=async()=>{F.value=null;let e=n({totalSupport:w.value,foodPrice:T.value,alcoholPrice:E.value,memberDrink:D.value,guestDrink:O.value,memberNoDrink:k.value,guestNoDrink:A.value});if(e.error){await H(e.error,`ì˜¤ë¥˜`);return}F.value=e,await y(),I.value&&I.value.scrollIntoView({behavior:`smooth`,block:`start`})},$=f(()=>{if(!F.value)return null;let e=e=>e==null||isNaN(e)?`-`:Math.round(e).toLocaleString();return!F.value.results||!Array.isArray(F.value.results)||F.value.results.length===0?null:{...F.value,formattedSupportPerMember:e(F.value.supportPerMember),formattedResults:F.value.results.map(t=>({...t,formattedPay:e(t.pay),formattedSupport:t.support!==null&&t.support!==void 0?e(t.support)+`ì›`:`-`}))}}),Be=async e=>{e.preventDefault(),await ze()},Ve=async()=>{await V(`ì´ˆê¸°í™” í™•ì¸`,`ì •ë§ ì´ˆê¸°í™” í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ˆê¸°í™”ì‹œ ì„ì‹œì €ì¥ëœ ë°ì´í„°ëŠ” ì‚­ì œë˜ê³  ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)&&(Ne(),w.value=0,D.value=0,O.value=0,k.value=0,A.value=0,T.value=0,E.value=0,j.value=``,M.value=``,N.value=``,P.value=``,F.value=null)};return te([w,T,E,D,O,k,A,j,M,N,P],()=>{Pe.value||Ae()}),d(async()=>{await Me()||(localStorage.getItem(C)&&await je(),await Z([L,R,z,B]))}),(e,t)=>{let n=ie(`router-link`);return l(),m(`div`,oe,[p(`div`,se,[re(n,{to:`/jungsan`,class:`md-btn`},{default:o(()=>[...t[23]||=[u(`í…Œì´ë¸”ë‹¹ ì •ì‚°ê¸°`,-1)]]),_:1})]),p(`div`,ce,[t[28]||=p(`h1`,null,`ì–¸ë„¤ì„ë“œ íšŒì‹ ì •ì‚° ê³„ì‚°ê¸°`,-1),p(`div`,le,[p(`button`,{onClick:Ve,style:{"margin-left":`1rem`}},[...t[24]||=[p(`span`,{class:`material-icons`},`restart_alt`,-1),u(`ì´ˆê¸°í™” `,-1)]]),p(`button`,{onClick:t[0]||=(...e)=>h(J)&&h(J)(...e),style:{"margin-left":`0.5rem`}},[...t[25]||=[p(`span`,{class:`material-icons`},`file_upload`,-1),u(`JSON ë‚´ë³´ë‚´ê¸° `,-1)]]),p(`button`,{onClick:t[1]||=(...e)=>h(Y)&&h(Y)(...e),style:{"margin-left":`0.5rem`}},[...t[26]||=[p(`span`,{class:`material-icons`},`file_download`,-1),u(`JSON ê°€ì ¸ì˜¤ê¸° `,-1)]]),p(`button`,{onClick:t[2]||=(...e)=>h(q)&&h(q)(...e),style:{"margin-left":`0.5rem`}},[...t[27]||=[p(`span`,{class:`material-icons`},`link`,-1),u(`ë§í¬ë¡œ ê³µìœ  `,-1)]])])]),p(`form`,{id:`input-fields`,onSubmit:g(Be,[`prevent`])},[p(`div`,ue,[p(`div`,de,[t[29]||=p(`label`,{for:`totalSupport`},`ì´ íšŒì‹ ì§€ì›ë¹„`,-1),a(p(`input`,{type:`number`,id:`totalSupport`,"onUpdate:modelValue":t[3]||=e=>w.value=e,min:`0`},null,512),[[v,w.value,void 0,{number:!0}]])]),p(`div`,fe,[t[30]||=p(`label`,{for:`foodPrice`},`ìŒì‹ê°’`,-1),a(p(`input`,{type:`number`,id:`foodPrice`,"onUpdate:modelValue":t[4]||=e=>T.value=e,min:`0`},null,512),[[v,T.value,void 0,{number:!0}]])]),p(`div`,pe,[t[31]||=p(`label`,{for:`alcoholPrice`},`ìˆ ê°’`,-1),a(p(`input`,{type:`number`,id:`alcoholPrice`,"onUpdate:modelValue":t[5]||=e=>E.value=e,min:`0`},null,512),[[v,E.value,void 0,{number:!0}]])])]),p(`div`,me,[p(`div`,x,[t[32]||=p(`label`,{for:`memberDrink`},`ğŸº ë¶€ì› (ìˆ  ë§ˆì‹ )`,-1),a(p(`input`,{type:`number`,id:`memberDrink`,"onUpdate:modelValue":t[6]||=e=>D.value=e,min:`0`},null,512),[[v,D.value,void 0,{number:!0}]]),a(p(`textarea`,{id:`memberDrinkMemo`,"onUpdate:modelValue":t[7]||=e=>j.value=e,rows:`1`,placeholder:`ì˜ˆ: í™ê¸¸ë™, ê¹€ì² ìˆ˜`,onInput:t[8]||=(...e)=>h(Q)&&h(Q)(...e),ref_key:`memberDrinkMemoRef`,ref:L},null,544),[[v,j.value]])]),p(`div`,S,[t[33]||=p(`label`,{for:`guestDrink`},`ğŸºğŸ‘¤ ë‚œì… (ìˆ  ë§ˆì‹ )`,-1),a(p(`input`,{type:`number`,id:`guestDrink`,"onUpdate:modelValue":t[9]||=e=>O.value=e,min:`0`},null,512),[[v,O.value,void 0,{number:!0}]]),a(p(`textarea`,{id:`guestDrinkMemo`,"onUpdate:modelValue":t[10]||=e=>M.value=e,rows:`1`,placeholder:`ì˜ˆ: ì´ë‚œì…, ë°•ì™¸ë¶€`,onInput:t[11]||=(...e)=>h(Q)&&h(Q)(...e),ref_key:`guestDrinkMemoRef`,ref:R},null,544),[[v,M.value]])]),p(`div`,he,[t[34]||=p(`label`,{for:`memberNoDrink`},`ë¶€ì› (ìˆ  ì•ˆ ë§ˆì‹ )`,-1),a(p(`input`,{type:`number`,id:`memberNoDrink`,"onUpdate:modelValue":t[12]||=e=>k.value=e,min:`0`},null,512),[[v,k.value,void 0,{number:!0}]]),a(p(`textarea`,{id:`memberNoDrinkMemo`,"onUpdate:modelValue":t[13]||=e=>N.value=e,rows:`1`,placeholder:`ì˜ˆ: ìµœë¶€ì›, ì •íšŒì›`,onInput:t[14]||=(...e)=>h(Q)&&h(Q)(...e),ref_key:`memberNoDrinkMemoRef`,ref:z},null,544),[[v,N.value]])]),p(`div`,ge,[t[35]||=p(`label`,{for:`guestNoDrink`},`ğŸ‘¤ ë‚œì… (ìˆ  ì•ˆ ë§ˆì‹ )`,-1),a(p(`input`,{type:`number`,id:`guestNoDrink`,"onUpdate:modelValue":t[15]||=e=>A.value=e,min:`0`},null,512),[[v,A.value,void 0,{number:!0}]]),a(p(`textarea`,{id:`guestNoDrinkMemo`,"onUpdate:modelValue":t[16]||=e=>P.value=e,rows:`1`,placeholder:`ì˜ˆ: ì™¸ë¶€1, ì™¸ë¶€2`,onInput:t[17]||=(...e)=>h(Q)&&h(Q)(...e),ref_key:`guestNoDrinkMemoRef`,ref:B},null,544),[[v,P.value]])])]),t[36]||=p(`button`,{type:`submit`,id:`calc-button`},[p(`span`,{class:`material-icons`},`calculate`),u(` ì •ì‚° ê³„ì‚°í•˜ê¸° `)],-1)],32),$.value&&$.value.formattedResults&&$.value.formattedResults.length>0?(l(),m(`div`,{key:0,id:`result`,ref_key:`resultRef`,ref:I,class:`result`},[t[38]||=p(`h2`,null,`ì •ì‚° ê²°ê³¼`,-1),p(`div`,_e,`ë¶€ì› 1ì¸ë‹¹ ì§€ì›ê¸ˆ: `+s($.value.formattedSupportPerMember)+`ì›`,1),p(`table`,ve,[t[37]||=p(`thead`,null,[p(`tr`,null,[p(`th`,null,`êµ¬ë¶„`),p(`th`,null,`ì¸ì›`),p(`th`,null,`1ì¸ë‹¹ ê¸ˆì•¡`),p(`th`,null,`ì§€ì›ê¸ˆ`)])],-1),p(`tbody`,null,[(l(!0),m(ne,null,ee($.value.formattedResults,(e,t)=>(l(),m(`tr`,{key:t},[p(`td`,null,s(e.label||`-`),1),p(`td`,null,s(e.count||0)+`ëª…`,1),p(`td`,null,s(e.formattedPay||`-`)+`ì›`,1),p(`td`,null,s(e.formattedSupport||`-`),1)]))),128))])])],512)):_(``,!0),p(`a`,{ref_key:`downloadLink`,ref:Fe,href:h(Ie),download:h(Le),style:{display:`none`}},null,8,ye),p(`input`,{ref_key:`fileInput`,ref:Re,type:`file`,accept:`application/json`,style:{display:`none`},onChange:t[18]||=(...e)=>h(X)&&h(X)(...e)},null,544),p(`dialog`,{ref_key:`dialogRef`,ref:Ee,class:`confirm-dialog`,onClick:t[22]||=(...e)=>h(G)&&h(G)(...e)},[p(`div`,{class:`dialog-content`,onClick:t[21]||=g(()=>{},[`stop`])},[p(`h3`,be,s(h(we)),1),p(`p`,xe,s(h(Te)),1),p(`div`,Se,[h(Oe)?_(``,!0):(l(),m(`button`,{key:0,onClick:t[19]||=(...e)=>h(W)&&h(W)(...e),class:`dialog-btn dialog-btn-cancel`},`ì·¨ì†Œ`)),p(`button`,{ref_key:`confirmButtonRef`,ref:De,onClick:t[20]||=(...e)=>h(U)&&h(U)(...e),class:`dialog-btn dialog-btn-confirm`,autofocus:``},`í™•ì¸`,512)])])],512)])}}},[[`__scopeId`,`data-v-d33a30f3`]]);export{w as default};