import{C as e,N as t,O as n,T as r,_ as i,b as a,d as o,f as s,g as c,h as l,j as u,k as d,l as f,m as ee,p,s as m,u as h,v as g,w as _,x as v}from"./index-CDTxaWn-.js";import{t as y}from"./_plugin-vue_export-helper-9n1O4nl6.js";var b={class:`todo-item-content`},x=[`checked`],S=[`value`],C={__name:`TodoItem`,props:{todo:{type:Object,required:!0},collapsedSubtasks:{type:Set,required:!0}},emits:[`toggle-state`,`add-subtask`,`delete-todo`,`edit-text`,`toggle-collapse`,`drag-start`,`drag-end`,`drag-over`,`drag-leave`,`drop`],setup(n,{emit:i}){let a=n,s=i,f=d(!1),m=e=>{let t=e.target.checked?`completed`:`not-started`;s(`toggle-state`,a.todo.id,t)},g=e=>{s(`toggle-state`,a.todo.id,e.target.value)},v=e=>{f.value=!0,s(`drag-start`,e,a.todo.id)},y=e=>{f.value=!1,s(`drag-end`,e)},C=e=>{s(`drag-over`,e,a.todo.id)},te=e=>{s(`drag-leave`,e)},w=e=>{s(`drop`,e,a.todo.id)};return(i,a)=>{let s=r(`TodoItem`,!0);return e(),c(`li`,{class:u([n.todo.state,{dragging:f.value}]),draggable:!0,onDragstart:v,onDragend:y,onDragover:h(C,[`prevent`]),onDragleave:te,onDrop:h(w,[`prevent`])},[p(`div`,b,[p(`div`,null,[n.todo.subtasks&&n.todo.subtasks.length>0?(e(),c(`button`,{key:0,class:u([`collapse-subtask-btn`,{collapsed:n.collapsedSubtasks.has(n.todo.id)}]),onClick:a[0]||=h(e=>i.$emit(`toggle-collapse`,n.todo.id),[`stop`]),title:`하위 할일 접기/펼치기`},` ▼ `,2)):l(``,!0),p(`label`,null,[p(`input`,{type:`checkbox`,checked:n.todo.state===`completed`,onChange:m},null,40,x),p(`span`,{class:`todo-text`,onDblclick:a[1]||=e=>i.$emit(`edit-text`,n.todo.id)},t(n.todo.text),33)])]),p(`div`,null,[p(`select`,{class:`todo-state`,value:n.todo.state,onChange:g},[...a[14]||=[p(`option`,{value:`not-started`},`시작하지 않음`,-1),p(`option`,{value:`in-progress`},`진행중`,-1),p(`option`,{value:`completed`},`완료`,-1)]],40,S),p(`button`,{class:`add-subtask-btn`,onClick:a[2]||=h(e=>i.$emit(`add-subtask`,n.todo.id),[`stop`]),title:`하위 할일 추가`},`+`),p(`button`,{class:`delete-todo-btn`,onClick:a[3]||=h(e=>i.$emit(`delete-todo`,n.todo.id),[`stop`]),title:`할일 삭제`},`×`)])]),n.todo.subtasks&&n.todo.subtasks.length>0?(e(),c(`ul`,{key:0,class:u([`subtask-list`,{collapsed:n.collapsedSubtasks.has(n.todo.id)}])},[(e(!0),c(o,null,_(n.todo.subtasks,t=>(e(),ee(s,{key:t.id,todo:t,"collapsed-subtasks":n.collapsedSubtasks,onToggleState:a[4]||=(e,t)=>i.$emit(`toggle-state`,e,t),onAddSubtask:a[5]||=e=>i.$emit(`add-subtask`,e),onDeleteTodo:a[6]||=e=>i.$emit(`delete-todo`,e),onEditText:a[7]||=e=>i.$emit(`edit-text`,e),onToggleCollapse:a[8]||=e=>i.$emit(`toggle-collapse`,e),onDragStart:a[9]||=(e,t)=>i.$emit(`drag-start`,e,t),onDragEnd:a[10]||=e=>i.$emit(`drag-end`,e),onDragOver:a[11]||=(e,t)=>i.$emit(`drag-over`,e,t),onDragLeave:a[12]||=e=>i.$emit(`drag-leave`,e),onDrop:a[13]||=(e,t)=>i.$emit(`drop`,e,t)},null,8,[`todo`,`collapsed-subtasks`]))),128))],2)):l(``,!0)],34)}}},te=y(C,[[`__scopeId`,`data-v-9b61d5b1`]]),w={class:`todo-app`},ne={class:`container`},re={id:`tabsContainer`,class:`tabs-container`},ie=[`onDragstart`,`onDragover`,`onDragleave`,`onDrop`,`onClick`],ae=[`onDblclick`],oe=[`onClick`],se={class:`controls-container`},ce={key:0,id:`todoList`},le={key:1,class:`empty-list-message`},ue={class:`dialog-actions`},de=`ABCI_TodoList_Tabs`,fe=2,T=`todos`,E=`tabs`,D=y({__name:`index`,setup(r){let y=d(null),b=d([]),x=d(null),S=d([]),C=d(new Set),D=d(``),O=d(`임시 할일 리스트`),k=d(null),A=d(null),j=d(null),M=d(null),N=d(null),P=d(null),F=d(null),I=d(``),L=d(``),pe=d(``),me=d(``),R=d(`alert`),z=d(``),B=d(null),he=d(!1),ge=d(!1),_e=d(`확인`),ve=d(`취소`),V=d(null),H=d(null),ye=s(()=>[...S.value].sort((e,t)=>(e.order||0)-(t.order||0))),be=s(()=>{if(!D.value)return b.value;let e=D.value.toLowerCase(),t=b.value.filter(t=>t.text.toLowerCase().includes(e)),n=new Set;return t.forEach(e=>{let t=e;for(;t;)n.add(t.id),t=b.value.find(e=>e.id===t.parentId)}),b.value.filter(e=>n.has(e.id))}),xe=s(()=>Se(be.value));function Se(e){let t=new Map(e.map(e=>[e.id,{...e,subtasks:[]}])),n=[];for(let e of t.values())e.parentId&&t.has(e.parentId)?t.get(e.parentId).subtasks.push(e):n.push(e);let r=e=>e.sort((e,t)=>(e.order||0)-(t.order||0));for(let e of t.values())e.subtasks.length>0&&r(e.subtasks);return r(n),n}let Ce=()=>new Promise((e,t)=>{let n=indexedDB.open(de,fe);n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(T)||t.createObjectStore(T,{keyPath:`id`}).createIndex(`tabId`,`tabId`,{unique:!1}),t.objectStoreNames.contains(E)||t.createObjectStore(E,{keyPath:`id`})},n.onsuccess=t=>{y.value=t.target.result,e(y.value)},n.onerror=e=>t(e.target.errorCode)}),U=e=>new Promise(t=>{y.value.transaction(e).objectStore(e).getAll().onsuccess=e=>t(e.target.result)}),we=e=>new Promise(t=>{y.value.transaction(T).objectStore(T).index(`tabId`).getAll(e).onsuccess=e=>t(e.target.result)}),W=(e,t)=>new Promise(n=>{y.value.transaction(e,`readwrite`).objectStore(e).put(t).onsuccess=n}),G=e=>new Promise(t=>{pe.value=e.title,me.value=e.message,R.value=e.type||`alert`,z.value=e.defaultValue||``,B.value=t,_e.value=e.okText||`확인`,ve.value=e.cancelText||`취소`,he.value=!0,ge.value=e.type===`confirm`||e.type===`prompt`,j.value&&(j.value.showModal(),a(()=>{e.type===`prompt`&&P.value?P.value.focus():F.value&&F.value.focus()}))}),Te=()=>{j.value&&j.value.close();let e=R.value===`prompt`?z.value:!0;B.value&&=(B.value(e),null)},Ee=()=>{j.value&&j.value.close();let e=R.value===`prompt`?null:!1;B.value&&=(B.value(e),null)},K=(e,t=`알림`)=>G({title:t,message:e,type:`alert`}),q=(e,t=`확인`)=>G({title:t,message:e,type:`confirm`}),J=(e,t,n=`입력`)=>G({title:n,message:e,defaultValue:t,type:`prompt`}),Y=async()=>{let e=await U(E),t=[];if(e.forEach((e,n)=>{e.order===void 0&&(e.order=n,t.push(e))}),t.length>0){let e=y.value.transaction(E,`readwrite`);t.forEach(t=>e.objectStore(E).put(t)),await new Promise(t=>e.oncomplete=t)}S.value=e},De=async()=>{let e=await J(`새 탭의 이름을 입력하세요:`,`새 목록`);if(e&&e.trim()){let t=await U(E),n=e.trim();if(t.find(e=>e.name===n)){await K(`'${n}' 이름의 탭이 이미 존재합니다. 다른 이름을 사용해주세요.`,`중복된 탭 이름`);return}let r=t.length,i={id:`tab-${Date.now()}`,name:n,order:r};await W(E,i),await X(i.id)}},Oe=async e=>{let t=await J(`탭의 새 이름을 입력하세요:`,e.name);if(t&&t.trim()&&t.trim()!==e.name){let n=t.trim();if((await U(E)).find(t=>t.name===n&&t.id!==e.id)){await K(`'${n}' 이름의 탭이 이미 존재합니다. 다른 이름을 사용해주세요.`,`중복된 탭 이름`);return}let r={id:e.id,name:n,order:e.order??0};await W(E,r),S.value=await U(E)}},ke=async e=>{if(!await q(`이 탭과 모든 할 일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`))return;let t=y.value.transaction([T,E],`readwrite`),n=t.objectStore(T),r=t.objectStore(E),i=n.index(`tabId`).openCursor(e);i.onsuccess=e=>{let t=e.target.result;t&&(t.delete(),t.continue())},r.delete(e),t.oncomplete=async()=>{if(x.value===e){let e=await U(E),t=e.length>0?e[0].id:null;await X(t)}else await Y()}},X=async e=>{x.value=e,localStorage.setItem(`currentTabId`,e),await Y(),await Z()},Ae=(e,t)=>{V.value=t,e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/plain`,t),e.target.classList.add(`dragging`)},je=e=>{e.target.classList.remove(`dragging`),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),V.value=null},Me=(e,t)=>{t!==V.value&&(document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),e.target.closest(`.tab-item`)?.classList.add(`drag-over`))},Ne=(e,t)=>{e.target.closest(`.tab-item`)?.classList.remove(`drag-over`)},Pe=async(e,t)=>{e.preventDefault(),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`));let n=V.value;!t||n===t||await Fe(n,t)},Fe=async(e,t)=>{let n=(await U(E)).sort((e,t)=>(e.order||0)-(t.order||0)),r=n.findIndex(t=>t.id===e),i=n.findIndex(e=>e.id===t);if(r===-1||i===-1)return;let[a]=n.splice(r,1);n.splice(i,0,a);let o=[];n.forEach((e,t)=>{e.order!==t&&(e.order=t,o.push(W(E,e)))}),o.length>0&&(await Promise.all(o),await Y())},Z=async()=>{if(!x.value){b.value=[];return}let e=await we(x.value),t=[],n=new Map;if(e.forEach(e=>{let t=e.parentId||null;n.has(t)||n.set(t,[]),n.get(t).push(e)}),n.forEach(e=>{e.forEach((e,n)=>{e.order===void 0&&(e.order=n,t.push(e))})}),t.length>0){let n=y.value.transaction(T,`readwrite`);t.forEach(e=>n.objectStore(T).put(e)),await new Promise(e=>n.oncomplete=e),e=await we(x.value)}b.value=e},Ie=async e=>{let t=await J(`새 하위 할일의 내용을 입력하세요:`,``);if(t&&t.trim()){let n=b.value.filter(t=>t.parentId===e),r={id:`todo-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,text:t.trim(),state:`not-started`,parentId:e,tabId:x.value,order:n.length};await W(T,r);let i=b.value.find(t=>t.id===e);i&&i.state===`completed`&&(i.state=`in-progress`,await W(T,i),await Q(i.parentId)),await Z()}},Le=async e=>{if(!await q(`이 할 일과 모든 하위 할 일을 삭제하시겠습니까?`))return;let t=new Set([e]),n=e=>{b.value.filter(t=>t.parentId===e).forEach(e=>{t.add(e.id),n(e.id)})};n(e);let r=y.value.transaction(T,`readwrite`),i=r.objectStore(T);t.forEach(e=>i.delete(e)),r.oncomplete=async()=>{await Z()}},Re=async e=>{let t=b.value.find(t=>t.id===e);if(!t)return;let n=await J(`할일 내용을 수정하세요:`,t.text,`할일 수정`);n&&n.trim()&&n.trim()!==t.text&&(t.text=n.trim(),await W(T,t),await Z())},ze=e=>{C.value.has(e)?C.value.delete(e):C.value.add(e)},Be=async(e,t)=>{let n=b.value.find(t=>t.id===e);n&&n.state!==t&&(n.state=t,await W(T,n),await Q(n.parentId),t===`completed`&&await Ve(e,`completed`),await Z())},Q=async e=>{if(!e)return;let t=b.value.find(t=>t.id===e),n=b.value.filter(t=>t.parentId===e);if(t&&n.length>0){let e=n.every(e=>e.state===`completed`),r=n.some(e=>e.state===`in-progress`),i=e?`completed`:r||n.some(e=>e.state===`completed`)?`in-progress`:`not-started`;t.state!==i&&(t.state=i,await W(T,t),await Q(t.parentId))}},Ve=async(e,t)=>{let n=b.value.filter(t=>t.parentId===e);for(let e of n)e.state!==t&&(e.state=t,await W(T,e),await Ve(e.id,t))},He=async()=>{if(!x.value||b.value.length===0){await K(`초기화할 할일이 없습니다.`);return}if(!await q(`현재 탭의 모든 할일을 "시작하지 않음" 상태로 변경하시겠습니까?`))return;let e=[];b.value.forEach(t=>{t.state!==`not-started`&&(t.state=`not-started`,e.push(W(T,t)))}),e.length>0?(await Promise.all(e),await Z(),await K(`${e.length}개의 할일이 초기화되었습니다.`)):await K(`이미 모든 할일이 "시작하지 않음" 상태입니다.`)},Ue=async()=>{if(!x.value||b.value.length===0){await K(`삭제할 완료된 할일이 없습니다.`);return}let e=b.value.filter(e=>e.state===`completed`);if(e.length===0){await K(`완료된 할일이 없습니다.`);return}if(!await q(`완료된 ${e.length}개의 할일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`))return;let t=y.value.transaction(T,`readwrite`),n=t.objectStore(T);e.forEach(e=>n.delete(e.id)),t.oncomplete=async()=>{await Z(),await K(`${e.length}개의 완료된 할일이 삭제되었습니다.`)}},We=e=>e===`completed`?`[x]`:e===`in-progress`?`[o]`:`[ ]`,Ge=e=>{if(!e||e.length===0)return``;let t=Se(e),n=``,r=(e,t=0)=>{let i=`  `.repeat(t),a=We(e.state);n+=i+`- `+a+` `+e.text+`
`,e.subtasks&&e.subtasks.length>0&&e.subtasks.forEach(e=>{r(e,t+1)})};return t.forEach(e=>r(e)),n.trim()},Ke=async()=>{if(!x.value){await K(`먼저 탭을 선택해주세요.`);return}if(b.value.length===0){await K(`내보낼 할일이 없습니다.`);return}L.value=Ge(b.value),A.value&&A.value.showModal()},qe=async()=>{try{await navigator.clipboard.writeText(L.value),await K(`할일 목록이 클립보드에 복사되었습니다.`)}catch(e){console.error(`클립보드 복사 실패:`,e),N.value&&(N.value.select(),document.execCommand(`copy`)),await K(`할일 목록이 클립보드에 복사되었습니다.`)}},Je=async()=>{if(!x.value){await K(`먼저 탭을 선택해주세요.`);return}let e=Xe(L.value,x.value);if(e.length===0){await K(`적용할 항목이 없습니다. 마크다운 형식(- [ ] / - [o] / - [x] + 내용)을 확인해주세요.`);return}let t=y.value.transaction(T,`readwrite`),n=t.objectStore(T);b.value.map(e=>e.id).forEach(e=>n.delete(e)),e.forEach(e=>n.put(e)),await new Promise(e=>t.oncomplete=e),await Z(),et(),await K(`편집 내용 ${e.length}개 항목으로 적용되었습니다.`)},Ye=e=>{let t=e.match(/^\s*-\s*\[\s*([ xo])\]\s*(.*)$/i);if(t){let n=t[1].toLowerCase(),r=n===`x`?`completed`:n===`o`?`in-progress`:`not-started`,i=t[2].trim();return{indent:e.match(/^\s*/)[0].length,state:r,text:i}}let n=e.match(/^\s*((?:[-*+]|\d+\.)\s+)(.*)$/);if(n){let t=e.match(/^\s*/)[0].length,r=n[2].trim();return{indent:t,state:`not-started`,text:r}}return null},Xe=(e,t)=>{let n=e.split(`
`),r=[],i=[],a=new Map;return n.forEach(e=>{let n=Ye(e);if(!n||!n.text)return;let{indent:o,state:s,text:c}=n,l=`todo-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;for(;i.length>0&&i[i.length-1].indent>=o;)i.pop();let u=i.length>0?i[i.length-1].id:null,d=a.get(u)||0;r.push({id:l,text:c,state:s,parentId:u,tabId:t,order:d}),a.set(u,d+1),i.push({id:l,indent:o})}),r},Ze=async()=>{if(!x.value){await K(`먼저 탭을 선택하거나 생성해주세요.`);return}let e=I.value,t=Xe(e,x.value);if(t.length>0){let e=y.value.transaction(T,`readwrite`);t.forEach(t=>e.objectStore(T).put(t)),await new Promise(t=>e.oncomplete=t),I.value=``,$e(),await Z()}},Qe=()=>{k.value&&(k.value.showModal(),a(()=>{M.value&&M.value.focus()}))},$e=()=>{k.value&&k.value.close()},et=()=>{A.value&&A.value.close()},tt=(e,t)=>t<=0?0:(e.slice(0,t).match(/\n/g)||[]).length,$=(e,t)=>{let n=e.split(`
`);if(t<=0)return 0;let r=0;for(let e=0;e<t&&e<n.length;e++)r+=n[e].length+1;return r},nt=e=>{let t=N.value;if(!t)return;let n=L.value,r=n.split(`
`),i=t.selectionStart,o=t.selectionEnd,s=tt(n,i),c=tt(n,o>0?o-1:0),l=c-s+1;if(e.ctrlKey&&e.shiftKey&&e.key===`K`||e.ctrlKey&&e.key===`D`){if(e.preventDefault(),r.length===0)return;r.splice(s,l);let t=r.join(`
`);L.value=t,a(()=>{if(!N.value)return;let e=Math.min(s,r.length-1),n=e>=0?$(t,e):0;N.value.selectionStart=n,N.value.selectionEnd=n,N.value.focus()});return}if(!e.altKey||e.key!==`ArrowUp`&&e.key!==`ArrowDown`||(e.preventDefault(),r.length===0))return;if(e.key===`ArrowUp`){if(s===0)return;let e=r.splice(s,l);r.splice(s-1,0,...e)}else{if(c>=r.length-1)return;let e=r.splice(s,l);r.splice(s+1,0,...e)}let u=r.join(`
`);L.value=u,a(()=>{if(!N.value)return;let t=e.key===`ArrowUp`?s-1:s+1,n=t+l-1;N.value.selectionStart=$(u,t),N.value.selectionEnd=$(u,n+1),N.value.focus()})},rt=e=>{if(e.key===`Tab`){e.preventDefault();let t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value,a=n;for(;a>0&&i[a-1]!==`
`;)a--;let o=r;for(r>n&&i[r-1]===`
`&&(o=r-1);o<i.length&&i[o]!==`
`;)o++;let s=i.substring(a,o),c=s.split(`
`),l;if(e.shiftKey){l=c.map(e=>e.startsWith(`  `)?e.substring(2):e).join(`
`),t.value=i.substring(0,a)+l+i.substring(o);let e=c[0].startsWith(`  `)?2:0;t.selectionStart=Math.max(a,n-e),t.selectionEnd=r+(l.length-s.length)}else{let e=c.map(e=>`  `+e);l=e.join(`
`),t.value=i.substring(0,a)+l+i.substring(o),t.selectionStart=n+2,t.selectionEnd=r+e.length*2}}(e.ctrlKey||e.metaKey)&&e.key===`Enter`&&(e.preventDefault(),Ze())},it=(e,t)=>{H.value=t,e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/plain`,t)},at=e=>{e.target.closest(`li`)?.classList.remove(`dragging`),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),H.value=null},ot=(e,t)=>{t!==H.value&&(document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),e.target.closest(`li`)?.classList.add(`drag-over`))},st=e=>{e.target.closest(`li`)?.classList.remove(`drag-over`)},ct=async(e,t)=>{e.preventDefault(),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`));let n=H.value;!t||n===t||await lt(n,t)},lt=async(e,t)=>{let n=b.value.find(t=>t.id===e),r=b.value.find(e=>e.id===t);if(!n||!r)return;let i=n.parentId??null,a=r.parentId??null;if(i===a){let n=b.value.filter(e=>(e.parentId??null)===i).sort((e,t)=>(e.order||0)-(t.order||0)),r=n.findIndex(t=>t.id===e),a=n.findIndex(e=>e.id===t);if(r===-1||a===-1)return;let[o]=n.splice(r,1);n.splice(a,0,o);let s=[];n.forEach((e,t)=>{e.order!==t&&(e.order=t,s.push(W(T,e)))}),s.length>0&&(await Promise.all(s),await Z())}else await ut(e,t)},ut=async(e,t)=>{let n=b.value.find(t=>t.id===e),r=b.value.find(e=>e.id===t);if(!n||!r||e===t)return;let i=(e,t)=>{let n=b.value.filter(t=>t.parentId===e);for(let e of n)if(e.id===t||i(e.id,t))return!0;return!1};if(i(e,t)){await K(`하위 할일을 상위 할일로 만들 수 없습니다.`);return}let a=n.text.length>30?n.text.substring(0,30)+`...`:n.text,o=r.text.length>30?r.text.substring(0,30)+`...`:r.text,s=`"${a}"을(를) "${o}"의 하위 할일로 만들겠습니까?`;if(!await q(s,`계층 구조 변경`))return;let c=n.parentId,l=b.value.filter(e=>e.parentId===c);n.parentId=t,n.order=b.value.filter(e=>e.parentId===t).length;let u=[W(T,n)];l.forEach((e,t)=>{e.order!==t&&(e.order=t,u.push(W(T,e)))}),await Promise.all(u),await Z()},dt=async()=>{let e=O.value,t=await J(`새 제목을 입력하세요:`,e,`제목 편집`);t&&t.trim()&&t.trim()!==e&&(O.value=t.trim(),document.title=t.trim(),localStorage.setItem(`todoAppTitle`,t.trim()))},ft=async()=>{try{let e=localStorage.getItem(`todoAppTitle`);e&&(O.value=e,document.title=e),await Ce();let t=await U(E);if(t.length===0){let e={id:`tab-${Date.now()}`,name:`기본 목록`,order:0};await W(E,e),t.push(e)}let n=localStorage.getItem(`currentTabId`);(!n||!t.some(e=>e.id===n))&&(n=t[0].id),await X(n)}catch(e){console.error(`Failed to initialize app:`,e)}};return v(()=>{ft()}),(r,a)=>(e(),c(`div`,w,[p(`div`,ne,[p(`h1`,{onDblclick:dt,id:`mainTitle`},t(O.value),33),p(`div`,re,[(e(!0),c(o,null,_(ye.value,n=>(e(),c(`div`,{key:n.id,class:u([`tab-item`,{active:n.id===x.value}]),draggable:!0,onDragstart:e=>Ae(e,n.id),onDragend:je,onDragover:h(e=>Me(e,n.id),[`prevent`]),onDragleave:e=>Ne(e,n.id),onDrop:h(e=>Pe(e,n.id),[`prevent`]),onClick:e=>X(n.id)},[p(`span`,{onDblclick:h(e=>Oe(n),[`stop`])},t(n.name),41,ae),p(`button`,{class:`delete-tab-btn`,onClick:h(e=>ke(n.id),[`stop`])},`×`,8,oe)],42,ie))),128)),p(`button`,{id:`addTabBtn`,onClick:De},`+`)]),p(`div`,se,[p(`button`,{onClick:Qe},`할일 목록 불러오기`),p(`button`,{onClick:Ke},`할일 목록 수정 및 내보내기`),p(`button`,{onClick:He},`모두 시작전으로`),p(`button`,{onClick:Ue},`완료항목 삭제`),n(p(`input`,{type:`text`,"onUpdate:modelValue":a[0]||=e=>D.value=e,placeholder:`할일 검색...`,"aria-label":`할일 검색`},null,512),[[m,D.value]])]),be.value.length>0?(e(),c(`ul`,ce,[(e(!0),c(o,null,_(xe.value,t=>(e(),ee(te,{key:t.id,todo:t,"collapsed-subtasks":C.value,onToggleState:Be,onAddSubtask:Ie,onDeleteTodo:Le,onEditText:Re,onToggleCollapse:ze,onDragStart:it,onDragEnd:at,onDragOver:ot,onDragLeave:st,onDrop:ct},null,8,[`todo`,`collapsed-subtasks`]))),128))])):(e(),c(`div`,le,[D.value?(e(),c(o,{key:0},[g(` '`+t(D.value)+`'에 대한 검색 결과가 없습니다. `,1)],64)):x.value?(e(),c(o,{key:1},[a[4]||=g(` 할일 목록이 없습니다.`,-1),a[5]||=p(`br`,null,null,-1),a[6]||=g(`'할일 목록 불러오기' 버튼으로 목록을추가하세요. `,-1)],64)):(e(),c(o,{key:2},[g(` 탭을 선택하거나 '+' 버튼을 눌러 새 탭을 만드세요. `)],64))]))]),p(`dialog`,{ref_key:`markdownModal`,ref:k,class:`modal`},[a[7]||=p(`h2`,null,`새 할일 목록 불러오기`,-1),n(p(`textarea`,{ref_key:`modalMarkdownInput`,ref:M,"onUpdate:modelValue":a[1]||=e=>I.value=e,placeholder:`여기에 할일 목록을 마크다운 형식으로 입력하세요.
들여쓰기를 사용하여 하위 작업을 만들 수 있습니다.`,onKeydown:rt},null,544),[[m,I.value]]),p(`div`,{class:`dialog-actions`},[p(`button`,{onClick:Ze,id:`confirmLoadBtn`},`불러오기`),p(`button`,{onClick:$e,id:`closeModalBtn`},`취소`)])],512),p(`dialog`,{ref_key:`exportModal`,ref:A,class:`modal`},[a[8]||=i(`<h2 data-v-de541ce0>할일 목록 수정 및 내보내기</h2><p data-v-de541ce0>진행상황 포함 마크다운: <code data-v-de541ce0>- [ ]</code> 시작전, <code data-v-de541ce0>- [o]</code> 진행중, <code data-v-de541ce0>- [x]</code> 완료. 내용을 수정한 뒤 적용할 수 있습니다.</p><p class="export-textarea-hint" title="Alt+↑: 선택한 줄 위로 · Alt+↓: 아래로 · Ctrl+Shift+K / Ctrl+D: 선택한 줄 삭제" data-v-de541ce0><mark data-v-de541ce0>Alt</mark>+<mark data-v-de541ce0>↑</mark> / <mark data-v-de541ce0>Alt</mark>+<mark data-v-de541ce0>↓</mark>: 줄 이동 · <mark data-v-de541ce0>Ctrl</mark>+<mark data-v-de541ce0>Shift</mark>+<mark data-v-de541ce0>K</mark> / <mark data-v-de541ce0>Ctrl</mark>+<mark data-v-de541ce0>D</mark>: 줄 삭제 </p>`,3),n(p(`textarea`,{ref_key:`exportTextarea`,ref:N,"onUpdate:modelValue":a[2]||=e=>L.value=e,placeholder:`내보낼 할일 목록이 여기에 표시됩니다.`,title:`Alt+↑: 선택한 줄 위로 · Alt+↓: 아래로 · Ctrl+Shift+K / Ctrl+D: 선택한 줄 삭제`,onKeydown:nt},null,544),[[m,L.value]]),p(`div`,{class:`dialog-actions`},[p(`button`,{onClick:Je,class:`apply-export-btn`},`편집 내용 적용`),p(`button`,{onClick:qe},`클립보드에 복사`),p(`button`,{onClick:et},`닫기`)])],512),p(`dialog`,{ref_key:`customModal`,ref:j,class:`modal`},[p(`h3`,null,t(pe.value),1),p(`p`,null,t(me.value),1),R.value===`prompt`?n((e(),c(`input`,{key:0,type:`text`,ref_key:`customModalInput`,ref:P,"onUpdate:modelValue":a[3]||=e=>z.value=e,onKeydown:f(Te,[`enter`])},null,544)),[[m,z.value]]):l(``,!0),p(`div`,ue,[he.value?(e(),c(`button`,{key:0,ref_key:`customModalOkBtn`,ref:F,class:`custom-modal-ok`,onClick:Te},t(_e.value),513)):l(``,!0),ge.value?(e(),c(`button`,{key:1,class:`custom-modal-cancel`,onClick:Ee},t(ve.value),1)):l(``,!0)])],512)]))}},[[`__scopeId`,`data-v-de541ce0`]]);export{D as default};