import{C as e,N as t,d as n,f as r,g as i,h as a,j as o,k as s,p as c,v as l,w as u}from"./index-DtFjUMaP.js";import{t as d}from"./_plugin-vue_export-helper-9n1O4nl6.js";var f={class:`container`},p={class:`card`},m={class:`upload-section`},h={class:`file-input-wrapper`},g={key:0,class:`selected-file`},_=[`disabled`],v={class:`results-section`},y={key:0,class:`message-icon`},b={key:1,class:`message-icon`},x={key:1,class:`table-wrapper`},S={class:`results-table`},C={class:`table-cell rank-cell`},w={key:1,class:`rank-badge rank-other`},T={class:`table-cell name-cell`},E={class:`table-cell count-cell`},D={class:`count-badge`},O=d({__name:`index`,setup(d){let O=s(null),k=s([]),A=s(``),j=s(`info`),M=r(()=>j.value===`error`?`message-error`:`message-info`);function N(e){O.value=e.target.files[0],k.value=[],A.value=``}function P(){if(!O.value){A.value=`파일을 먼저 선택해주세요.`,j.value=`error`,k.value=[];return}let e=new FileReader;e.onload=e=>{let t=e.target.result;F(t)},e.onerror=()=>{A.value=`파일을 읽는 중 오류가 발생했습니다.`,j.value=`error`,k.value=[]},e.readAsText(O.value,`UTF-8`)}function F(e){let t=new Map,n=/^\d{4}년 \d{1,2}월 \d{1,2}일 (?:오전|오후) \d{1,2}:\d{1,2}, (.*?)\s*:\s*.*/;e.split(`
`).forEach(e=>{let r=e.match(n);if(r&&r[1]){let e=r[1].trim();if(e){let n=(t.get(e)||0)+1;t.set(e,n)}}}),t.size===0?(A.value=`분석할 수 있는 유효한 대화 라인을 찾지 못했습니다. 파일 형식을 확인해주세요.`,j.value=`info`,k.value=[]):(k.value=Array.from(t.entries()).sort((e,t)=>t[1]-e[1]),A.value=``)}return(r,s)=>(e(),i(`div`,f,[c(`div`,p,[s[3]||=c(`div`,{class:`header`},[c(`h1`,{class:`title`},`말 많은 사람 찾아내기`),c(`p`,{class:`description`},[l(` 카카오톡 등에서 백업한 `),c(`code`,{class:`code-text`},`.txt`),l(` 파일을 업로드하면, 대화 라인에서 이름을 추출하여 채팅횟수를 집계합니다. `)])],-1),c(`div`,m,[c(`div`,h,[s[1]||=c(`label`,{for:`file-upload`,class:`file-label`},` 텍스트 파일 (.txt) `,-1),c(`input`,{id:`file-upload`,name:`file-upload`,type:`file`,accept:`.txt`,onChange:N,class:`file-input`},null,32),O.value?(e(),i(`div`,g,[s[0]||=c(`span`,{class:`file-indicator`},null,-1),l(` `+t(O.value.name),1)])):a(``,!0)]),c(`button`,{onClick:P,disabled:!O.value,class:`analyze-button`},` 분석 시작 `,8,_)]),c(`div`,v,[A.value?(e(),i(`div`,{key:0,class:o([`message`,M.value])},[j.value===`error`?(e(),i(`span`,y,`⚠️`)):(e(),i(`span`,b,`ℹ️`)),c(`span`,null,t(A.value),1)],2)):a(``,!0),k.value.length>0?(e(),i(`div`,x,[c(`table`,S,[s[2]||=c(`thead`,null,[c(`tr`,null,[c(`th`,{scope:`col`,class:`table-header`},`순위`),c(`th`,{scope:`col`,class:`table-header`},`이름`),c(`th`,{scope:`col`,class:`table-header`},`횟수`)])],-1),c(`tbody`,null,[(e(!0),i(n,null,u(k.value,([n,r],a)=>(e(),i(`tr`,{key:n,class:`table-row`},[c(`td`,C,[a<3?(e(),i(`span`,{key:0,class:o([`rank-badge`,`rank-${a+1}`])},t(a+1),3)):(e(),i(`span`,w,t(a+1),1))]),c(`td`,T,t(n),1),c(`td`,E,[c(`span`,D,t(r)+`개`,1)])]))),128))])])])):a(``,!0)])])]))}},[[`__scopeId`,`data-v-532254cd`]]);export{O as default};