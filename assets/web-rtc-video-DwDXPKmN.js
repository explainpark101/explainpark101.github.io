import{A as e,C as t,D as n,M as r,O as i,S as a,T as o,_ as s,b as ee,c as te,d as c,f as l,h as u,k as d,l as ne,m as f,o as re,u as p,x as ie,y as ae}from"./index-BT2NL5gZ.js";import{t as oe}from"./_plugin-vue_export-helper-9n1O4nl6.js";var se={class:`main-container`},ce={key:0},le={key:1},ue={key:2,id:`qrcode-container`,class:`qrcode-container`},de=[`href`],fe={key:4,class:`room-id-display`},pe={class:`status-container`},me={id:`status-text`},he={key:5,class:`witty-message`},ge={class:`video-main`},_e={class:`video-header`},ve={class:`video-header-title`},ye={class:`video-container`},be={class:`remote-video-wrapper`},xe={key:0,class:`video-placeholder`},Se={class:`local-video-wrapper`},Ce={key:0,class:`video-placeholder-small`},we={class:`sidebar-section`},Te={key:0,class:`message-name`},Ee={class:`text-xs text-gray-400`},De={class:`message-text`},Oe={class:`message-time`},ke={class:`sidebar-section`},Ae={id:`qrcode-chat-container`,class:`qrcode-chat-container`},je=[`href`],Me={class:`sidebar-section`},Ne={id:`guest-list`,class:`guest-list`},Pe={class:`guest-item host`},Fe={class:`text-xs text-gray-400`},Ie={key:0},Le={key:1},Re={class:`text-xs text-gray-400`},ze={key:0},Be={class:`modal-content`},Ve={class:`modal-actions`},m=oe({__name:`index`,setup(oe){let m=i(`home`),h=i(``),g=i(``),_=i(!1),v=i(null),y=i(null),b=i(null),x=i(null),S=i(``),C=i(``),w=i(!1),He=i(``),Ue=i(``),We=i(!1),T=i(null),E=i(!0),D=i(null),Ge=i(null),O=i(null),k=i(null),A=i(null),j=i(null),M=i(null),N=i(null),P=null,F=new Map,I=new Map,L=new Map,R=i(null),z=null,B=i(null),V=i(null),H=i([]),U=null,W=null,G=null,K=`ì˜ì—­ ì „ê°œ ì¤‘...(ì£¼ìˆ ì „ë¬¸ê³  í•™ìƒë“¤ì˜ ì‘ì›ì„ ë°›ëŠ” ì¤‘...(ì´íƒ€ë„ë¦¬ ìœ ì§€ê°€ ì£¼ë¬¼ì„ ì‚¼í‚¤ëŠ” ì¤‘...(ì˜·ì½”ì¸  ìœ íƒ€ê°€ ë¦¬ì¹´ì˜ ì €ì£¼ë¥¼ í‘¸ëŠ” ì¤‘...(ì „ì§‘ì¤‘ í˜¸í¡ ìµíˆëŠ” ì¤‘...(ë¹ˆí‹ˆì˜ ì‹¤ì„ ì°¾ëŠ” ì¤‘...(é›·ì˜ å‘¼å¸, å£±ãƒå‹, éœ¹é‚ä¸€é–ƒ!(ë”ìš± ë” ê·¸ ë„˜ì–´ë¡œ! Plus Ultra!(ê³ ë¬´ê³ ë¬´! ë¹ ë¥´ê²Œ ê¸°ë‹¤ë¦¬ê¸°!(ì œí•˜í•˜í•˜!!! ì´ ë¡œë”© ì†ë„ëŠ” ë­ëƒ!!!(ì¡°ë¡œê°€ ë¹ ë¥´ê²Œ ê¸¸ì„ ì°¾ê³  ìˆëŠ” ì¤‘...(ìˆ˜ë‘”! ê¸°ë‹¤ë¦¬ê¸°ì˜ ìˆ !(ì¸í„°ë„·ì´ ì—†ëŠ” ê³³ì—ì„œ ì´ ì •ë„ì˜ ë°ì´í„°ëŸ‰ì´ë¼ë‹ˆ í¬í‘!!(ì±„íŒ…ì›Œë“œ...ì˜¤...ë¹ ...(íƒ€ì½”í”¼ê°€ ë‹¹ì‹ ì„ í•´í”¼í•˜ê²Œ ë§Œë“¤ ë°©ë²•ì„ ê³ ë¯¼í•˜ëŠ” ì¤‘...(ì‹œì¦ˆì¹´ì˜ ë¯¸ì†Œë¥¼ ë³´ê¸° ìœ„í•´, ì‚¬ì§„ì„ ì°ëŠ” ì¤‘...(íƒ€ì½”í”¼ê°€ ì¹œêµ¬ì™€ í™”í•´í•˜ê¸°ë¥¼ ë°”ë¼ë©° ë¦¬ë³¸ì„ ì°¾ëŠ” ì¤‘...(ì•„ë§ˆë¯¸ì•¼ ì†Œë¼ê°€ ì‰ì—¬ì—¬ì‹  ì—°ê¸°ë¥¼ ì¤€ë¹„í•˜ëŠ” ì¤‘...(ì´ì¹˜íˆë©”ê°€ í™”ë£Œ ì§ì „ ë”°ë´‰ì„ ì¤€ë¹„í•˜ëŠ” ì¤‘...(ë„ëŒ€ì²´ ì–¸ì œë¶€í„° ì„œë²„ê°€ í„°ì¡Œë‹¤ê³  ìƒê°í•œ ê±°ì§€?(íŠ¸ë˜í”½ì„, íŠ¸ë˜í”½ì„ ë†’ì´ì§€ ë§ˆë¼(ë” ê³µì—°ì„ ì¶•í•˜í•˜ê¸° ìœ„í•´ í˜„ê´€ ì•ì—ì„œ ê½ƒ ë“¤ê³  ëŒ€ê¸° ì¤‘...(ë¦¬ì¹˜ ì¼ë°œ ë„ë¼3 ë’·ë„ë¼ 3 í˜¼ì¼ìƒ‰ ì‚°ì•ˆì»¤ << ì§„ì§œ ì‚¬ê¸°ì¹˜ë„¤ ã…‹ã…‹(ì™œ ë§ˆì‘ë¶€ì¥ì´ ë‹¤ìŒ ì‹¬í™” ê°•ì˜ë¥¼ ì°ëŠ” ì¤‘...(íšŒì¥ì´ ì¢…ì‹  ì„ ì–¸ë¬¸ì„ ì‘ì„±í•˜ëŠ” ì¤‘...(ëŒ€í•™ì›ìƒì´ ì—°êµ¬ì‹¤ì—ì„œ ë¹¨ë¦¬ ë‚˜ê°€ê¸°ë¥¼ ë°”ë¼ë©° ëŒ€ê¸° ì¤‘...`.split(`(`),Ke=c(()=>Array.from(I.entries()).map(([e,{name:t,shortId:n}])=>({id:e,name:t,shortId:n}))),qe=c(()=>[...H.value].sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp))),Je=c(()=>_.value?`${y.value}ë‹˜ì˜ í™”ìƒí†µí™”`:B.value?`${B.value}ë‹˜ì˜ í™”ìƒí†µí™”`:`í˜¸ìŠ¤íŠ¸ ì •ë³´ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...`),q=c(()=>_.value?R.value:R.value||(x.value?`${window.location.origin}${window.location.pathname}#${x.value}`:``));function Ye(e){return e.slice(-6)}function Xe(){U&&clearInterval(U);let e=``,t=()=>{let t=``;if(K.length>1)do t=K[Math.floor(Math.random()*K.length)];while(t===e);else K.length===1&&(t=K[0]);C.value=t,e=t};t(),U=setInterval(t,2e3)}function J(e){U&&=(clearInterval(U),null),m.value=e,ae(()=>{if(e===`home`){let e=document.getElementById(`username-input`);e&&e.focus()}else if(e===`video`){let e=document.getElementById(`message-input`);e&&e.focus(),window.innerWidth>768?E.value=!1:E.value=!0}})}function Y(e,t,n=null){He.value=e,Ue.value=t,We.value=!!n,T.value=n,w.value=!0}function X(){w.value=!1,T.value=null}function Ze(){T.value&&T.value(),X()}function Qe(e){return new Date(e).toLocaleTimeString(`ko-KR`,{hour:`2-digit`,minute:`2-digit`})}function $e(e,t=null){for(let[n,r]of F)if(n!==t)try{r.send(e)}catch(e){console.error(`Peer ${n}ë¡œ ì „ì†¡ ì‹¤íŒ¨:`,e)}}function et(){let e=Array.from(I.entries()).map(([e,{name:t,shortId:n}])=>({id:e,name:t,shortId:n})),t={type:`participantUpdate`,payload:{hostName:y.value,hostShortId:b.value,guests:e}};$e(t)}async function tt(){try{let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30},facingMode:`user`},audio:{sampleRate:48e3,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});return M.value=e,A.value&&(A.value.srcObject=e),e}catch(e){return console.error(`ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:`,e),Y(`ë¯¸ë””ì–´ ì ‘ê·¼ ì‹¤íŒ¨`,`ì¹´ë©”ë¼/ë§ˆì´í¬ ì ‘ê·¼ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`),null}}function Z(){M.value&&=(M.value.getTracks().forEach(e=>e.stop()),null),N.value&&=(N.value.getTracks().forEach(e=>e.stop()),null),A.value&&(A.value.srcObject=null),j.value&&(j.value.srcObject=null)}function nt(e,t){if(!(!e||!e.type))if(_.value)switch(e.type){case`name`:I.set(t,{name:e.payload.name,shortId:e.payload.shortId}),F.get(t).send({type:`name`,payload:{name:y.value,shortId:b.value},id:v.value}),F.get(t).send({type:`roomInfo`,payload:{roomUrl:R.value}}),et();break;case`chat`:let n=I.get(t)||{name:`ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì`,shortId:`??????`},r={text:e.payload,displayName:n.name,shortId:n.shortId,timestamp:e.timestamp,type:`chat`,senderId:t};H.value.push(r),$e({type:`chat`,payload:e.payload,timestamp:e.timestamp,sender:{id:t,name:n.name,shortId:n.shortId}},t);break}else switch(e.type){case`name`:B.value=e.payload.name,V.value=e.payload.shortId;break;case`roomInfo`:R.value=e.payload.roomUrl,k.value&&window.QRCode&&(G&&=(G.clear(),null),k.value.innerHTML=``,G=new window.QRCode(k.value,{text:e.payload.roomUrl,width:160,height:160}));break;case`participantUpdate`:B.value=e.payload.hostName,V.value=e.payload.hostShortId;break;case`chat`:H.value.push({text:e.payload,displayName:e.sender.name,shortId:e.sender.shortId,timestamp:e.timestamp,type:`chat`,senderId:e.sender.id});break}}function rt(e){e.on(`open`,()=>{if(console.log(`ë°ì´í„° ì±„ë„ ì—´ë¦¼: ${e.peer}`),_.value){if(M.value){let t=P.call(e.peer,M.value);t&&(L.set(e.peer,t),Q(t,e.peer))}J(`video`)}else{z=e;let t={type:`name`,payload:{name:y.value,shortId:b.value},id:v.value};if(z.send(t),M.value){let e=P.call(x.value,M.value);e&&(L.set(x.value,e),Q(e,x.value))}J(`video`)}}),e.on(`data`,t=>{nt(t,e.peer)}),e.on(`close`,()=>{if(console.log(`ì—°ê²° ì¢…ë£Œ: ${e.peer}`),_.value){let t=e.peer;F.delete(t),I.delete(t);let n=L.get(t);n&&(n.close(),L.delete(t)),et()}else{e.kicked||Y(`í˜¸ìŠ¤íŠ¸ ì—°ê²° ëŠê¹€`,`í˜¸ìŠ¤íŠ¸ì™€ì˜ ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤.`),z=null;let t=L.get(x.value);t&&(t.close(),L.delete(x.value))}}),e.on(`error`,t=>{console.error(`ì—°ê²° ì—ëŸ¬:`,t),_.value?Y(`ê²ŒìŠ¤íŠ¸ ì—°ê²° ì˜¤ë¥˜`,`${e.peer}ì™€ ì—°ê²° ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${t.message}`):Y(`ì—°ê²° ì˜¤ë¥˜`,`ì˜¤ë¥˜ ë°œìƒ: ${t.message}`)})}function Q(e,t){e.on(`stream`,e=>{console.log(`ì›ê²© ìŠ¤íŠ¸ë¦¼ ìˆ˜ì‹ :`,t),N.value=e,j.value&&(j.value.srcObject=e)}),e.on(`close`,()=>{console.log(`ë¯¸ë””ì–´ í˜¸ì¶œ ì¢…ë£Œ:`,t),N.value&&=(N.value.getTracks().forEach(e=>e.stop()),null),j.value&&(j.value.srcObject=null),L.delete(t)}),e.on(`error`,e=>{console.error(`ë¯¸ë””ì–´ í˜¸ì¶œ ì—ëŸ¬:`,e),Y(`ë¯¸ë””ì–´ ì—°ê²° ì˜¤ë¥˜`,`ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ êµí™˜ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${e.message}`)})}function it(){J(`waiting`),Xe(),S.value=`Peer ì„œë²„ì— ì—°ê²° ì¤‘...`,P=new window.Peer(null,{debug:2,host:`peerjs.jaehyung101.synology.me`,secure:!0,proxied:!0}),P.on(`open`,async e=>{v.value=e,b.value||(b.value=Ye(v.value),sessionStorage.setItem(`webrtc-shortId`,b.value)),console.log(`ë‚´ Peer ID (í˜¸ìŠ¤íŠ¸): ${v.value} (#${b.value})`);let t=`${window.location.origin}${window.location.pathname}#${v.value}`;if(R.value=t,S.value=`ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ ì¤€ë¹„ ì¤‘...`,!await tt()){J(`home`);return}S.value=`ìƒëŒ€ë°©ì˜ ì—°ê²°ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...`,O.value&&window.QRCode&&(W&&=(W.clear(),null),O.value.innerHTML=``,W=new window.QRCode(O.value,{text:t,width:256,height:256})),k.value&&window.QRCode&&(G&&=(G.clear(),null),k.value.innerHTML=``,G=new window.QRCode(k.value,{text:t,width:160,height:160}))}),P.on(`connection`,e=>{console.log(`ìƒˆ ì—°ê²° ì‹œë„: ${e.peer}`),F.set(e.peer,e),rt(e)}),P.on(`call`,e=>{console.log(`ë¯¸ë””ì–´ í˜¸ì¶œ ìˆ˜ì‹ :`,e.peer),M.value&&(e.answer(M.value),L.set(e.peer,e),Q(e,e.peer))}),P.on(`error`,e=>{console.error(`Peer ì—ëŸ¬:`,e),Y(`ì—°ê²° ì‹¤íŒ¨`,`Peer ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`),Z(),J(`home`)})}function at(e){J(`waiting`),Xe(),S.value=`í˜¸ìŠ¤íŠ¸ì— ì—°ê²° ì¤‘...`,P=new window.Peer(null,{debug:3,host:`peerjs.jaehyung101.synology.me`,secure:!0,proxied:!0}),P.on(`open`,async t=>{if(v.value=t,b.value||(b.value=Ye(v.value),sessionStorage.setItem(`webrtc-shortId`,b.value)),console.log(`ë‚´ Peer ID (ê²ŒìŠ¤íŠ¸): ${t} (#${b.value})`),S.value=`ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¼ ì¤€ë¹„ ì¤‘...`,!await tt()){J(`home`);return}S.value=`í˜¸ìŠ¤íŠ¸ì— ì—°ê²° ì¤‘...`;let n=P.connect(e,{reliable:!0});if(!n){console.error(`í˜¸ìŠ¤íŠ¸ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`),Y(`ì—°ê²° ì‹¤íŒ¨`,`í˜¸ìŠ¤íŠ¸ì— ì—°ê²°ì„ ì‹œë„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`),Z(),J(`home`);return}rt(n)}),P.on(`call`,e=>{console.log(`ë¯¸ë””ì–´ í˜¸ì¶œ ìˆ˜ì‹ :`,e.peer),M.value&&(e.answer(M.value),L.set(e.peer,e),Q(e,e.peer))}),P.on(`error`,e=>{console.error(`Peer ì—ëŸ¬:`,e);let t=`Peer ì˜¤ë¥˜: ${e.message}`;e.type===`peer-unavailable`&&(t=`í•´ë‹¹ ë£¸ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜ í˜¸ìŠ¤íŠ¸ê°€ ì˜¤í”„ë¼ì¸ì…ë‹ˆë‹¤.`),Y(`ì—°ê²° ì‹¤íŒ¨`,t),Z(),window.location.hash=``,J(`home`)})}function ot(){let e=h.value.trim();if(!e){Y(`ì´ë¦„ í•„ìš”`,`í™”ìƒí†µí™”ì—ì„œ ì‚¬ìš©í•  ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.`);return}y.value=e,_.value?it():at(x.value)}function st(){let e=g.value.trim();if(!e)return;let t=new Date().toISOString(),n={text:e,displayName:y.value,shortId:b.value,timestamp:t,type:`chat`,senderId:v.value};H.value.push(n),g.value=``;let r={type:`chat`,payload:e,timestamp:t,sender:{id:v.value,name:y.value,shortId:b.value}};_.value?$e(r):z&&z.open&&z.send(r)}function ct(){E.value=!E.value}function lt(e){return e.preventDefault(),e.returnValue=`ì •ë§ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?`,`ì •ë§ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?`}function $(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`)){t();return}let r=document.createElement(`script`);r.src=e,r.onload=t,r.onerror=n,document.head.appendChild(r)})}return o(H,()=>{ae(()=>{D.value&&(D.value.scrollTop=D.value.scrollHeight)})}),ee(async()=>{try{await Promise.all([$(`https://cdn.tailwindcss.com`),$(`https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js`),$(`https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js`)])}catch(e){console.error(`ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨:`,e),Y(`ë¡œë“œ ì˜¤ë¥˜`,`í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.`)}b.value=sessionStorage.getItem(`webrtc-shortId`),window.location.hash?(x.value=window.location.hash.substring(1),_.value=!1):_.value=!0,J(`home`)}),ie(()=>{U&&clearInterval(U),Z(),P&&P.destroy(),W&&=(W.clear(),null),G&&=(G.clear(),null)}),(i,o)=>(a(),u(`div`,{class:`webrtc-video-app`,onBeforeunload:lt},[l(`div`,se,[l(`div`,{id:`home-view`,class:e([`home-view`,{hidden:m.value!==`home`}])},[o[2]||=l(`h1`,null,`WebRTC í™”ìƒí†µí™”`,-1),o[3]||=l(`p`,null,`ì„œë²„ ì—†ì´ QR ì½”ë“œë¡œ ì—°ê²°í•˜ëŠ” P2P í™”ìƒí†µí™”`,-1),n(l(`input`,{id:`username-input`,"onUpdate:modelValue":o[0]||=e=>h.value=e,type:`text`,placeholder:`ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”...`,onKeydown:te(ot,[`enter`]),autocomplete:`off`,autocapitalize:`off`},null,544),[[re,h.value]]),l(`button`,{id:`start-btn`,onClick:ot},r(_.value?`ìƒˆ í™”ìƒí†µí™” ë§Œë“¤ê¸°`:`í™”ìƒí†µí™” ì°¸ì—¬í•˜ê¸°`),1)],2),l(`div`,{id:`waiting-view`,class:e([`waiting-view`,{hidden:m.value!==`waiting`}])},[_.value?(a(),u(`h2`,ce,`í™”ìƒí†µí™”ë°© ìƒì„±ë¨`)):f(``,!0),_.value?(a(),u(`p`,le,`ì•„ë˜ QR ì½”ë“œë¥¼ ìƒëŒ€ë°©ì´ ìŠ¤ìº”í•˜ê²Œ í•˜ì„¸ìš”.`)):f(``,!0),_.value?(a(),u(`div`,ue,[l(`div`,{id:`qrcode`,ref_key:`qrcodeContainer`,ref:O},null,512)])):f(``,!0),_.value&&d(R)?(a(),u(`a`,{key:3,href:d(R),target:`_blank`,class:`room-link`},r(d(R)),9,de)):f(``,!0),_.value&&v.value?(a(),u(`div`,fe,` ë‚´ ë£¸ ID: `+r(v.value),1)):f(``,!0),l(`div`,pe,[o[4]||=l(`svg`,{class:`spinner`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`},[l(`circle`,{class:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,"stroke-width":`4`}),l(`path`,{class:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})],-1),l(`span`,me,r(S.value),1)]),C.value?(a(),u(`p`,he,r(C.value),1)):f(``,!0)],2),l(`div`,{id:`video-view`,class:e([`video-view`,{hidden:m.value!==`video`}])},[l(`div`,ge,[l(`header`,_e,[l(`span`,ve,r(Je.value),1),l(`button`,{id:`options-btn`,class:`options-btn md:hidden`,onClick:ct},[...o[5]||=[l(`svg`,{class:`w-6 h-6`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z`})],-1)]])]),l(`div`,ye,[l(`div`,be,[l(`video`,{ref_key:`remoteVideo`,ref:j,autoplay:``,playsinline:``,class:e([`remote-video`,{hidden:!N.value}])},null,2),N.value?f(``,!0):(a(),u(`div`,xe,[...o[6]||=[l(`svg`,{class:`w-24 h-24 text-gray-500`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z`})],-1),l(`p`,{class:`text-gray-400 mt-4`},`ìƒëŒ€ë°© ì—°ê²° ëŒ€ê¸° ì¤‘...`,-1)]]))]),l(`div`,Se,[l(`video`,{ref_key:`localVideo`,ref:A,autoplay:``,playsinline:``,muted:``,class:e([`local-video`,{hidden:!M.value}])},null,2),M.value?f(``,!0):(a(),u(`div`,Ce,[...o[7]||=[l(`svg`,{class:`w-8 h-8 text-gray-500`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z`})],-1)]]))])]),l(`form`,{onSubmit:ne(st,[`prevent`]),class:`chat-form`},[n(l(`input`,{id:`message-input`,"onUpdate:modelValue":o[1]||=e=>g.value=e,type:`text`,placeholder:`ë©”ì‹œì§€ ì…ë ¥...`,autocomplete:`off`},null,512),[[re,g.value]]),o[8]||=l(`button`,{type:`submit`},[l(`svg`,{class:`w-6 h-6`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[l(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 19l9 2-9-18-9 18 9-2zm0 0v-8`})])],-1)],32)]),l(`div`,{id:`sidebar`,ref_key:`sidebar`,ref:Ge,class:e([`sidebar`,{hidden:E.value}])},[l(`div`,we,[o[9]||=l(`h3`,null,`ì±„íŒ…`,-1),l(`div`,{id:`messages`,ref_key:`messagesContainer`,ref:D,class:`messages`},[(a(!0),u(p,null,t(qe.value,(t,n)=>(a(),u(`div`,{key:n,class:e([`message-item`,{"message-right":t.senderId===v.value,"message-left":t.senderId!==v.value}])},[l(`div`,{class:e([`message-bubble`,{"bg-blue-600":t.senderId===v.value,"bg-gray-700":t.senderId!==v.value}])},[t.senderId===v.value?f(``,!0):(a(),u(`div`,Te,[s(r(t.displayName)+` `,1),l(`span`,Ee,`#`+r(t.shortId),1)])),l(`div`,De,r(t.text),1),l(`div`,Oe,r(Qe(t.timestamp)),1)],2)],2))),128))],512)]),l(`div`,ke,[o[10]||=l(`h3`,null,`ì°¸ì—¬ QR ì½”ë“œ`,-1),l(`div`,Ae,[l(`div`,{id:`qrcode-chat`,ref_key:`qrcodeChatContainer`,ref:k},null,512)]),q.value?(a(),u(`a`,{key:0,href:q.value,target:`_blank`,class:`sidebar-room-link`},r(q.value),9,je)):f(``,!0)]),l(`div`,Me,[o[11]||=l(`h3`,null,`ì°¸ì—¬ì`,-1),l(`ul`,Ne,[l(`li`,Pe,[s(` ğŸ‘‘ `+r(d(B)||y.value)+` `,1),l(`span`,Fe,`#`+r(d(V)||b.value),1),(d(V)||b.value)===b.value?(a(),u(`span`,Ie,`(ë‚˜)`)):(a(),u(`span`,Le,`(ë°©ì¥)`))]),(a(!0),u(p,null,t(Ke.value,t=>(a(),u(`li`,{key:t.id,class:e([`guest-item`,{"is-me":t.shortId===b.value}])},[l(`span`,null,[s(`ğŸ‘¤ `+r(t.name)+` `,1),l(`span`,Re,`#`+r(t.shortId),1)]),t.shortId===b.value?(a(),u(`span`,ze,`(ë‚˜)`)):f(``,!0)],2))),128))])])],2)],2),l(`div`,{id:`modal`,class:e([`modal-overlay`,{hidden:!w.value}]),onClick:ne(X,[`self`])},[l(`div`,Be,[l(`h3`,null,r(He.value),1),l(`p`,null,r(Ue.value),1),l(`div`,Ve,[We.value?(a(),u(p,{key:1},[l(`button`,{onClick:Ze,class:`btn-modal-confirm`},`í™•ì¸`),l(`button`,{onClick:X,class:`btn-modal-cancel`},`ì·¨ì†Œ`)],64)):(a(),u(`button`,{key:0,onClick:X,class:`btn-modal-ok`},`í™•ì¸`))])])],2)])],32))}},[[`__scopeId`,`data-v-b0a0cc6e`]]);export{m as default};