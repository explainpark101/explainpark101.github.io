import{C as e,D as t,E as n,M as r,N as i,O as a,S as o,T as s,b as c,d as l,g as u,i as d,k as f,m as p,p as m,u as h,v as g,w as _,x as v,y}from"./index-VuZj_QA9.js";import{t as b}from"./_plugin-vue_export-helper-9n1O4nl6.js";import{t as x}from"./QuestionItem-B465CVZw.js";var S=[`data-theme`],C={style:{"background-color":`transparent`,padding:`1rem`,"margin-bottom":`2rem`}},w={style:{"max-width":`1200px`,margin:`0 auto`}},T={class:`settings-content`},E={class:`theme-switch`},D={class:`dialog-buttons`},ee={class:`progress-box`},te={class:`progress-bar`},ne={class:`progress-stats`},O={class:`container`},k={id:`questions`,class:`questions-container`},A=b({__name:`index`,setup(b){let A={ABV:`Above`,AB:`Anchor Bolt`,"A/C":`Air Conditioner`,AD:`Access Door`,ADD:`Addition`,ADJ:`Adjust`,AFF:`Above Finished Floor`,AFG:`Above Finished Grade`,ALT:`Alternate`,"APP'D":`Approved`,ARCH:`Architect, Architectural`,ASPH:`Asphalt`,AWG:`American wire gauge`,BC:`Bookcase`,BD:`Board`,BL:`Building Line`,BLDG:`Building`,BLK:`Block`,BM:`Beam`,BOF:`Bottom of footing`,BOW:`Bottom of wall`,BRG:`Bearing`,BU:`Built up`,BTM:`Bottom`,CSMNT:`Casement`,CABT:`Cabinet`,CC:`Center-to-Center`,CD:`Construction document`,CEM:`Cement`,CL:`Center line`,CH:`Channel`,CI:`Cast Iron`,CIP:`Cast in place`,CLG:`Ceiling`,CMU:`Concrete Masonry Unit`,CO:`Clean Out`,COL:`Column`,CONT:`Continuous`,CONTR:`Contractor`,CONC:`Concrete`,CPT:`Carpet`,CT:`Ceramic Tile`,"D/W":`Dishwasher`,DBL:`Double`,DEMO:`Demolition`,DIA:`Diameter`,DIM:`Dimension`,DL:`Dead Load`,DN:`Down`,DR:`Door`,EA:`Each`,ED:`Edge distance`,EJ:`Expansion joint`,ELEV:`Elevation`,ELECT:`Electric, electrical`,EQ:`Equal`,EQUIP:`Equipment`,EST:`Estimate`,EW:`Each way`,EXC:`Excavate`,EXIST:`Existing`,EXT:`Exterior`,FA:`Fire alarm`,FAO:`Finish all over`,FCO:`Floor clean out`,FD:`Floor drain`,FE:`Fire extinguisher`,FAB:`Fabricate`,FDN:`Foundation`,FFL:`Finished floor level`,FIN:`Finish`,FL:`Floor level`,FLR:`Floor`,FRPF:`Fireproof`,GA:`Gauge`,GALV:`Galvanized`,GAR:`Garage`,GC:`General Contractor`,GFCI:`Ground Fault Circuit Interrupt`,GL:`Glass`,GM:`Grade mark`,GT:`Glazed tile`,GYP:`Gypsum`,HB:`Hose bib`,HC:`Hollow core`,HDBD:`Hardboard`,HDW:`Hardware`,HGT:`Height`,HOR:`Horizontal`,HR:`Hour or Handrail`,HTR:`Heater`,HV:`High voltage`,HVAC:`Heating Venting and Air Conditioning`,HW:`Hot water`,ICF:`Insulated Concrete Form`,ID:`Inside diameter`,IF:`Inside Face`,INCL:`Inclusive, including`,INV:`Invert`,INSUL:`Insulation`,INT:`Interior`,JCT:`Junction`,JST:`Joist`,kW:`Killowatt`,LFT:`Linear feet`,LAM:`Laminate`,LAT:`Lateral`,LH:`Left hand`,LIN:`Linear`,LL:`Live load`,LT:`Light`,LVL:`Laminated Veneer Lumber`,MB:`Machine bolt`,MO:`Masonry opening`,MAR:`Marble`,MAS:`Masonry`,MTL:`Material`,MAX:`Maximum`,MECH:`Mechanical`,MED:`Medium`,MFG:`Manufacturing`,MH:`Manhole`,MIN:`Minimum`,MOD:`Modular`,MTL:`Metal, steel`,MUL:`Mullion`,NTS:`Not to scale`,NCM:`Non-corrosive metal`,NFC:`Not for construction`,NIC:`Not in contract`,NO:`Number`,NOM:`Nominal`,OAL:`Overall length`,OC:`On-Center`,OD:`Outside diameter`,OR:`Outside radius`,OH:`Overhead`,OPNG:`Opening`,P:`Paint`,PART:`Partition`,PAV:`Pavement`,PC:`Pre-Cast Concrete`,PL:`Plaster or Property line`,PLT:`Plate`,PLAS:`Plastic`,PLV:`Plastic laminate veneer`,PLYWD:`Plywood`,PSF:`Pounds per square foot`,PSI:`Pounds per square inch`,PTD:`Painted`,PVC:`Polyvinyl chloride`,PWR:`Power`,QTY:`Quantity`,RAD:`Radius`,RC:`Reinforced Concrete`,RD:`Roof Drain`,RO:`Rough Opening`,ROW:`Right of Way`,REFG:`Refrigerator`,REF:`Reference`,REINF:`Reinforced`,RET:`Return`,REV:`Revision`,RH:`Right hand`,RM:`Room`,RMV:`Remove`,SAN:`Sanitary`,SC:`Solid Core`,SCHED:`Schedule`,SD:`Smoke Detector`,SECT:`Section`,SHT:`Sheet`,"SHT'G":`Sheathing`,SIM:`Similar`,SPECS:`Specifications`,SPK:`Sprinkler`,"SQ.FT.":`Square feet`,"SQ. IN.":`Square inches`,STD:`Standard`,STL:`Steel`,SY:`Square yard`,SYS:`System`,"T&B":`Top and bottom`,TO:`Top of`,TOB:`Top of beam`,TOC:`Top of curb`,TOF:`Top of footing`,TOJ:`Top of joist`,TOM:`Top of masonry`,TOW:`Top of wall`,TS:`Tube steel`,TH:`Threshold`,TYP:`Typical`,UNF:`Unfinished`,VA:`Voltage`,VB:`Vapor barrier`,VIF:`Verify in field`,VCT:`Vinyl composition tile`,WC:`Toilet,water closet`,WDW:`Window`,WL:`Water level`,WP:`Weatherproof`,WT:`Weight`,"WTR. HTR":`Water Heater`,WD:`Wood`,WIC:`Walk In Closet`,"W/O":`Without`,YD:`Yard`};f(null);let j=f(null),M=f(null),N=f(!1),P=f(`light`),F=f(!1),I=f(0),L=f(0),R=f([]),z=f(!1),B=f({}),V=f(``),H=(e,t)=>{t&&(B.value[e]=t)},re=()=>{let e=localStorage.getItem(`theme`);if(e)P.value=e,F.value=e===`dark`;else{let e=window.matchMedia(`(prefers-color-scheme: dark)`).matches;F.value=e,P.value=e?`dark`:`light`}document.body.setAttribute(`data-theme`,P.value)},U=()=>{P.value=F.value?`dark`:`light`,document.body.setAttribute(`data-theme`,P.value),localStorage.setItem(`theme`,P.value)};n(N,e=>{e&&M.value?M.value.showModal():M.value&&M.value.close()});let W=()=>{let e=R.value.filter(e=>{let t=B.value[e.abbr];return t&&t.inputValue?.trim()!==``}).length,t=R.value.length;I.value=t>0?e/t*100:0;let n=R.value.filter(e=>{let t=B.value[e.abbr];return t&&t.grade()===!0}).length;L.value=e>0?n/e*100:0},G=()=>{V.value=`총점: ${R.value.reduce((e,t)=>{let n=B.value[t.abbr];return n&&n.grade()===!0?e+1:e},0)} / ${R.value.length}`},K=()=>{G(),j.value&&j.value.scrollIntoView({behavior:`smooth`})},q=()=>{let e={questionOrder:R.value.map(e=>e.abbr),questions:R.value.map(e=>{let t=B.value[e.abbr];return t?t.saveState():{abbr:e.abbr,value:``,isGraded:!1,isIncorrect:!1,isVisible:!0}}),lastFocusedInput:localStorage.getItem(`lastFocusedInput-endterm`),isIncorrectOnlyMode:z.value};localStorage.setItem(`examState-endterm`,JSON.stringify(e))},J=async()=>{let e=localStorage.getItem(`examState-endterm`);if(e){let t=JSON.parse(e);if(z.value=t.isIncorrectOnlyMode||!1,t.questionOrder&&Array.isArray(t.questionOrder)){let e=new Map(R.value.map(e=>[e.abbr,e])),n=[];t.questionOrder.forEach(t=>{let r=e.get(t);r&&n.push(r)}),R.value.forEach(e=>{t.questionOrder.includes(e.abbr)||n.push(e)}),R.value=n}let n={};if(t.questions&&t.questions.forEach(e=>{e.abbr&&(n[e.abbr]=e)}),await c(),R.value.forEach(e=>{let t=B.value[e.abbr];t&&(n[e.abbr]?t.loadState(n[e.abbr]):t.loadState({value:``,isGraded:!1,isIncorrect:!1,isVisible:!0}))}),z.value){let e=1;R.value.forEach(t=>{let n=B.value[t.abbr];n&&n.grade()===!1?(n.reset(!0),n.setVisible(!0),t.index=e++):n&&n.setVisible(!1)})}else R.value.forEach(e=>{e.index=e.originalIndex;let t=B.value[e.abbr];t&&t.setVisible(!0)});G(),W()}else await c(),R.value.forEach(e=>{let t=B.value[e.abbr];t&&t.loadState({value:``,isGraded:!1,isIncorrect:!1,isVisible:!0})})},Y=()=>{if(R.value.every(e=>{let t=B.value[e.abbr];return t&&t.inputValue?.trim()!==``})){let e=R.value.filter(e=>{let t=B.value[e.abbr];return t&&t.grade()===!1});e.length>0&&setTimeout(()=>{confirm(`${e.length}개의 문제를 틀렸습니다. 틀린 문제만 다시 풀어보시겠습니까?`)&&X()},500)}},X=async()=>{z.value=!0;let e=1;await c(),R.value.forEach(t=>{let n=B.value[t.abbr];n&&n.grade()===!1?(n.reset(!0),n.setVisible(!0),t.index=e++):n&&n.setVisible(!1)}),q(),await c();let t=R.value.find(e=>{let t=B.value[e.abbr];return t&&t.grade()===!1&&t.isVisible});if(t&&B.value[t.abbr]){let e=document.getElementById(`ans-${t.abbr}`);e&&setTimeout(()=>{e.focus(),e.scrollIntoView({behavior:`smooth`,block:`center`})},100)}},ie=()=>{let e=confirm(`모든 문제를 초기화하시겠습니까? (Ctrl + R을 누르면 틀린 문제만 유지됩니다)`);Q(e),q()},Z=async()=>{if(confirm(`모든 진행 상황이 초기화됩니다. 계속하시겠습니까?`)){let e=R.value.map(e=>e.abbr);localStorage.removeItem(`examState-endterm`),localStorage.removeItem(`lastFocusedInput-endterm`);let t={questionOrder:e,questions:[],isIncorrectOnlyMode:!1};localStorage.setItem(`examState-endterm`,JSON.stringify(t)),await c(),R.value.forEach(e=>{let t=B.value[e.abbr];t&&t.loadState({value:``,isGraded:!1,isIncorrect:!1,isVisible:!0}),e.index=e.originalIndex}),z.value=!1,G(),W(),q()}},Q=async(e=!1)=>{e&&(await c(),R.value.forEach(e=>{let t=B.value[e.abbr];t&&t.setVisible(!0),e.index=e.originalIndex}),z.value=!1),await c(),R.value.forEach(e=>{let t=B.value[e.abbr];t&&(t.grade()===!1?(t.reset(!0),t.setVisible(!0)):t.inputValue?.trim()===``?t.setVisible(!0):t.setVisible(!1))}),G(),W(),await c();let t=R.value.find(e=>{let t=B.value[e.abbr];return t&&t.isVisible&&t.inputValue?.trim()===``});if(t){let e=document.getElementById(`ans-${t.abbr}`);e&&setTimeout(()=>{e.focus(),e.scrollIntoView({behavior:`smooth`,block:`center`})},100)}},$=e=>{e.ctrlKey&&e.key===`r`&&(e.preventDefault(),Q(!1),q()),e.ctrlKey&&e.shiftKey&&e.key===`R`&&(e.preventDefault(),Z())},ae=e=>{localStorage.setItem(`lastFocusedInput-endterm`,e.abbr);let t=document.getElementById(`ans-${e.abbr}`);t&&t.scrollIntoView({behavior:`smooth`,block:`center`})},oe=e=>{G(),W(),q(),Y()},se=()=>{q()},ce=()=>{G(),W()},le=e=>{let t=R.value.findIndex(t=>t.abbr===e.abbr),n=null;for(let e=t+1;e<R.value.length;e++){let t=B.value[R.value[e].abbr];if(t&&t.isVisible&&t.inputValue?.trim()===``){n=R.value[e];break}}if(!n)for(let e=0;e<R.value.length;e++){let t=B.value[R.value[e].abbr];if(t&&t.isVisible&&t.inputValue?.trim()===``){n=R.value[e];break}}if(n){let e=document.getElementById(`ans-${n.abbr}`);e&&setTimeout(()=>{e.focus(),e.scrollIntoView({behavior:`smooth`,block:`center`})},100)}},ue=(e,t)=>{};return v(async()=>{re();let e=localStorage.getItem(`examState-endterm`),t=!0,n=null;if(e)try{let r=JSON.parse(e);r.questionOrder&&Array.isArray(r.questionOrder)&&(n=r.questionOrder,t=!1)}catch(e){console.error(`Failed to parse saved state:`,e)}if(t){let e=Object.entries(A).sort(()=>Math.random()-.5),t=1;e.forEach(([e,n])=>{R.value.push({abbr:e,answer:n,index:t++,originalIndex:t-1,inputValue:``})})}else{let e=new Map(Object.entries(A)),t=1;n.forEach(n=>{let r=e.get(n);r&&R.value.push({abbr:n,answer:r,index:t++,originalIndex:t-1,inputValue:``})}),Object.entries(A).forEach(([e,r])=>{n.includes(e)||R.value.push({abbr:e,answer:r,index:t++,originalIndex:t-1,inputValue:``})})}await c(),await J();let r=R.value.filter(e=>{let t=B.value[e.abbr];return t&&t.isVisible&&(!t.inputValue||t.inputValue.trim()===``)}).sort((e,t)=>e.index-t.index)[0];if(r){let e=document.getElementById(`ans-${r.abbr}`);e&&setTimeout(()=>{e.focus(),e.scrollIntoView({behavior:`smooth`,block:`center`})},100)}else if(R.value.length>0){let e=R.value.filter(e=>{let t=B.value[e.abbr];return t&&t.isVisible}).sort((e,t)=>e.index-t.index)[0];if(e){let t=document.getElementById(`ans-${e.abbr}`);t&&setTimeout(()=>{t.focus(),t.scrollIntoView({behavior:`smooth`,block:`center`})},100)}}document.addEventListener(`keydown`,$),window.addEventListener(`beforeunload`,q),W()}),o(()=>{q(),document.removeEventListener(`keydown`,$),window.removeEventListener(`beforeunload`,q)}),(n,o)=>{let c=s(`router-link`);return e(),u(`div`,{class:`arch-graphic-app`,"data-theme":P.value},[o[11]||=m(`link`,{href:`https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap`,rel:`stylesheet`},null,-1),m(`nav`,C,[m(`div`,w,[y(c,{to:`/`,style:{color:`var(--text-primary)`,"text-decoration":`none`,display:`inline-flex`,"align-items":`center`,gap:`0.5rem`,"font-size":`1.2rem`,"font-weight":`500`}},{default:t(()=>[...o[3]||=[m(`span`,{class:`material-icons`,style:{"font-size":`1.5rem`}},`home`,-1)]]),_:1}),y(c,{to:`/arch-graphic`,style:{color:`var(--primary-color)`,"text-decoration":`none`,"margin-left":`1.5rem`,"font-size":`1.1rem`,"font-weight":`400`}},{default:t(()=>[...o[4]||=[g(`중간고사`,-1)]]),_:1})])]),m(`button`,{class:`settings-button`,onClick:o[0]||=e=>N.value=!0},`설정`),m(`dialog`,{ref_key:`settingsDialog`,ref:M,class:`settings-dialog`},[m(`div`,T,[o[6]||=m(`h3`,{class:`settings-title`},`설정`,-1),m(`div`,E,[a(m(`input`,{type:`checkbox`,id:`themeSwitch`,"onUpdate:modelValue":o[1]||=e=>F.value=e,onChange:U},null,544),[[d,F.value]]),o[5]||=m(`label`,{for:`themeSwitch`},`다크 모드`,-1)]),m(`div`,D,[m(`button`,{class:`secondary`,onClick:o[2]||=e=>N.value=!1},`닫기`)])])],512),m(`div`,ee,[o[7]||=m(`h3`,null,`진행 상황`,-1),m(`div`,te,[m(`div`,{class:`progress-fill`,style:r({width:I.value+`%`})},null,4)]),m(`div`,ne,[m(`span`,null,i(Math.round(I.value))+`%`,1),m(`span`,null,`정답률: `+i(Math.round(L.value))+`%`,1)])]),m(`div`,O,[o[9]||=m(`h1`,null,`기말고사: GRAPHIC COMMUNICATIONS IN CONSTRUCTION`,-1),o[10]||=m(`p`,{class:`subtitle`},`범위: A ~ Z 약어`,-1),m(`form`,{onSubmit:h(K,[`prevent`])},[m(`div`,k,[(e(!0),u(l,null,_(R.value,t=>(e(),p(x,{key:t.abbr,ref_for:!0,ref:e=>H(t.abbr,e),question:t,onFocus:ae,onBlur:oe,onInput:se,onGrade:ce,onKeydown:ue,onEnterCorrect:le},null,8,[`question`]))),128))]),m(`div`,{class:`button-group`},[m(`button`,{type:`button`,onClick:ie},`리셋`),m(`button`,{type:`button`,class:`danger`,onClick:Z},`하드 리셋`),o[8]||=m(`button`,{type:`submit`},`제출`,-1)])],32),m(`div`,{id:`score`,ref_key:`scoreElement`,ref:j},i(V.value),513)])],8,S)}}},[[`__scopeId`,`data-v-4b1f2d91`]]);export{A as default};