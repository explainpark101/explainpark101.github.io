import{C as e,N as t,O as n,T as r,b as i,d as a,f as o,g as s,h as c,j as l,k as u,l as d,m as ee,p as f,s as p,u as m,v as h,w as g,x as _}from"./index-DtFjUMaP.js";import{t as v}from"./_plugin-vue_export-helper-9n1O4nl6.js";var y={class:`todo-item-content`},b=[`checked`],x=[`value`],S={__name:`TodoItem`,props:{todo:{type:Object,required:!0},collapsedSubtasks:{type:Set,required:!0}},emits:[`toggle-state`,`add-subtask`,`delete-todo`,`edit-text`,`toggle-collapse`,`drag-start`,`drag-end`,`drag-over`,`drag-leave`,`drop`],setup(n,{emit:i}){let o=n,d=i,p=u(!1),h=e=>{let t=e.target.checked?`completed`:`not-started`;d(`toggle-state`,o.todo.id,t)},_=e=>{d(`toggle-state`,o.todo.id,e.target.value)},v=e=>{p.value=!0,d(`drag-start`,e,o.todo.id)},S=e=>{p.value=!1,d(`drag-end`,e)},te=e=>{d(`drag-over`,e,o.todo.id)},ne=e=>{d(`drag-leave`,e)},re=e=>{d(`drop`,e,o.todo.id)};return(i,o)=>{let u=r(`TodoItem`,!0);return e(),s(`li`,{class:l([n.todo.state,{dragging:p.value}]),draggable:!0,onDragstart:v,onDragend:S,onDragover:m(te,[`prevent`]),onDragleave:ne,onDrop:m(re,[`prevent`])},[f(`div`,y,[f(`div`,null,[n.todo.subtasks&&n.todo.subtasks.length>0?(e(),s(`button`,{key:0,class:l([`collapse-subtask-btn`,{collapsed:n.collapsedSubtasks.has(n.todo.id)}]),onClick:o[0]||=m(e=>i.$emit(`toggle-collapse`,n.todo.id),[`stop`]),title:`하위 할일 접기/펼치기`},` ▼ `,2)):c(``,!0),f(`label`,null,[f(`input`,{type:`checkbox`,checked:n.todo.state===`completed`,onChange:h},null,40,b),f(`span`,{class:`todo-text`,onDblclick:o[1]||=e=>i.$emit(`edit-text`,n.todo.id)},t(n.todo.text),33)])]),f(`div`,null,[f(`select`,{class:`todo-state`,value:n.todo.state,onChange:_},[...o[14]||=[f(`option`,{value:`not-started`},`시작하지 않음`,-1),f(`option`,{value:`in-progress`},`진행중`,-1),f(`option`,{value:`completed`},`완료`,-1)]],40,x),f(`button`,{class:`add-subtask-btn`,onClick:o[2]||=m(e=>i.$emit(`add-subtask`,n.todo.id),[`stop`]),title:`하위 할일 추가`},`+`),f(`button`,{class:`delete-todo-btn`,onClick:o[3]||=m(e=>i.$emit(`delete-todo`,n.todo.id),[`stop`]),title:`할일 삭제`},`×`)])]),n.todo.subtasks&&n.todo.subtasks.length>0?(e(),s(`ul`,{key:0,class:l([`subtask-list`,{collapsed:n.collapsedSubtasks.has(n.todo.id)}])},[(e(!0),s(a,null,g(n.todo.subtasks,t=>(e(),ee(u,{key:t.id,todo:t,"collapsed-subtasks":n.collapsedSubtasks,onToggleState:o[4]||=(e,t)=>i.$emit(`toggle-state`,e,t),onAddSubtask:o[5]||=e=>i.$emit(`add-subtask`,e),onDeleteTodo:o[6]||=e=>i.$emit(`delete-todo`,e),onEditText:o[7]||=e=>i.$emit(`edit-text`,e),onToggleCollapse:o[8]||=e=>i.$emit(`toggle-collapse`,e),onDragStart:o[9]||=(e,t)=>i.$emit(`drag-start`,e,t),onDragEnd:o[10]||=e=>i.$emit(`drag-end`,e),onDragOver:o[11]||=(e,t)=>i.$emit(`drag-over`,e,t),onDragLeave:o[12]||=e=>i.$emit(`drag-leave`,e),onDrop:o[13]||=(e,t)=>i.$emit(`drop`,e,t)},null,8,[`todo`,`collapsed-subtasks`]))),128))],2)):c(``,!0)],34)}}},te=v(S,[[`__scopeId`,`data-v-9b61d5b1`]]),ne={class:`todo-app`},re={class:`container`},ie={id:`tabsContainer`,class:`tabs-container`},ae=[`onDragstart`,`onDragover`,`onDragleave`,`onDrop`,`onClick`],oe=[`onDblclick`],se=[`onClick`],ce={class:`controls-container`},le={key:0,id:`todoList`},ue={key:1,class:`empty-list-message`},de={class:`dialog-actions`},fe=`ABCI_TodoList_Tabs`,pe=2,C=`todos`,w=`tabs`,T=v({__name:`index`,setup(r){let v=u(null),y=u([]),b=u(null),x=u([]),S=u(new Set),T=u(``),E=u(`임시 할일 리스트`),D=u(null),O=u(null),k=u(null),A=u(null),j=u(null),M=u(null),N=u(null),P=u(``),F=u(``),me=u(``),I=u(``),L=u(`alert`),R=u(``),z=u(null),B=u(!1),he=u(!1),ge=u(`확인`),_e=u(`취소`),V=u(null),H=u(null),ve=o(()=>[...x.value].sort((e,t)=>(e.order||0)-(t.order||0))),ye=o(()=>{if(!T.value)return y.value;let e=T.value.toLowerCase(),t=y.value.filter(t=>t.text.toLowerCase().includes(e)),n=new Set;return t.forEach(e=>{let t=e;for(;t;)n.add(t.id),t=y.value.find(e=>e.id===t.parentId)}),y.value.filter(e=>n.has(e.id))}),be=o(()=>xe(ye.value));function xe(e){let t=new Map(e.map(e=>[e.id,{...e,subtasks:[]}])),n=[];for(let e of t.values())e.parentId&&t.has(e.parentId)?t.get(e.parentId).subtasks.push(e):n.push(e);let r=e=>e.sort((e,t)=>(e.order||0)-(t.order||0));for(let e of t.values())e.subtasks.length>0&&r(e.subtasks);return r(n),n}let Se=()=>new Promise((e,t)=>{let n=indexedDB.open(fe,pe);n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(C)||t.createObjectStore(C,{keyPath:`id`}).createIndex(`tabId`,`tabId`,{unique:!1}),t.objectStoreNames.contains(w)||t.createObjectStore(w,{keyPath:`id`})},n.onsuccess=t=>{v.value=t.target.result,e(v.value)},n.onerror=e=>t(e.target.errorCode)}),U=e=>new Promise(t=>{v.value.transaction(e).objectStore(e).getAll().onsuccess=e=>t(e.target.result)}),W=e=>new Promise(t=>{v.value.transaction(C).objectStore(C).index(`tabId`).getAll(e).onsuccess=e=>t(e.target.result)}),G=(e,t)=>new Promise(n=>{v.value.transaction(e,`readwrite`).objectStore(e).put(t).onsuccess=n}),K=e=>new Promise(t=>{me.value=e.title,I.value=e.message,L.value=e.type||`alert`,R.value=e.defaultValue||``,z.value=t,ge.value=e.okText||`확인`,_e.value=e.cancelText||`취소`,B.value=!0,he.value=e.type===`confirm`||e.type===`prompt`,k.value&&(k.value.showModal(),i(()=>{e.type===`prompt`&&M.value?M.value.focus():N.value&&N.value.focus()}))}),Ce=()=>{k.value&&k.value.close();let e=L.value===`prompt`?R.value:!0;z.value&&=(z.value(e),null)},we=()=>{k.value&&k.value.close();let e=L.value===`prompt`?null:!1;z.value&&=(z.value(e),null)},q=(e,t=`알림`)=>K({title:t,message:e,type:`alert`}),J=(e,t=`확인`)=>K({title:t,message:e,type:`confirm`}),Y=(e,t,n=`입력`)=>K({title:n,message:e,defaultValue:t,type:`prompt`}),X=async()=>{let e=await U(w),t=[];if(e.forEach((e,n)=>{e.order===void 0&&(e.order=n,t.push(e))}),t.length>0){let e=v.value.transaction(w,`readwrite`);t.forEach(t=>e.objectStore(w).put(t)),await new Promise(t=>e.oncomplete=t)}x.value=e},Te=async()=>{let e=await Y(`새 탭의 이름을 입력하세요:`,`새 목록`);if(e&&e.trim()){let t=await U(w),n=e.trim();if(t.find(e=>e.name===n)){await q(`'${n}' 이름의 탭이 이미 존재합니다. 다른 이름을 사용해주세요.`,`중복된 탭 이름`);return}let r=t.length,i={id:`tab-${Date.now()}`,name:n,order:r};await G(w,i),await Z(i.id)}},Ee=async e=>{let t=await Y(`탭의 새 이름을 입력하세요:`,e.name);if(t&&t.trim()&&t.trim()!==e.name){let n=t.trim();if((await U(w)).find(t=>t.name===n&&t.id!==e.id)){await q(`'${n}' 이름의 탭이 이미 존재합니다. 다른 이름을 사용해주세요.`,`중복된 탭 이름`);return}e.name=n,await G(w,e),await X()}},De=async e=>{if(!await J(`이 탭과 모든 할 일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`))return;let t=v.value.transaction([C,w],`readwrite`),n=t.objectStore(C),r=t.objectStore(w),i=n.index(`tabId`).openCursor(e);i.onsuccess=e=>{let t=e.target.result;t&&(t.delete(),t.continue())},r.delete(e),t.oncomplete=async()=>{if(b.value===e){let e=await U(w),t=e.length>0?e[0].id:null;await Z(t)}else await X()}},Z=async e=>{b.value=e,localStorage.setItem(`currentTabId`,e),await X(),await Q()},Oe=(e,t)=>{V.value=t,e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/plain`,t),e.target.classList.add(`dragging`)},ke=e=>{e.target.classList.remove(`dragging`),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),V.value=null},Ae=(e,t)=>{t!==V.value&&(document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),e.target.closest(`.tab-item`)?.classList.add(`drag-over`))},je=(e,t)=>{e.target.closest(`.tab-item`)?.classList.remove(`drag-over`)},Me=async(e,t)=>{e.preventDefault(),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`));let n=V.value;!t||n===t||await Ne(n,t)},Ne=async(e,t)=>{let n=(await U(w)).sort((e,t)=>(e.order||0)-(t.order||0)),r=n.findIndex(t=>t.id===e),i=n.findIndex(e=>e.id===t);if(r===-1||i===-1)return;let[a]=n.splice(r,1);n.splice(i,0,a);let o=[];n.forEach((e,t)=>{e.order!==t&&(e.order=t,o.push(G(w,e)))}),o.length>0&&(await Promise.all(o),await X())},Q=async()=>{if(!b.value){y.value=[];return}let e=await W(b.value),t=[],n=new Map;if(e.forEach(e=>{let t=e.parentId||null;n.has(t)||n.set(t,[]),n.get(t).push(e)}),n.forEach(e=>{e.forEach((e,n)=>{e.order===void 0&&(e.order=n,t.push(e))})}),t.length>0){let n=v.value.transaction(C,`readwrite`);t.forEach(e=>n.objectStore(C).put(e)),await new Promise(e=>n.oncomplete=e),e=await W(b.value)}y.value=e},Pe=async e=>{let t=await Y(`새 하위 할일의 내용을 입력하세요:`,``);if(t&&t.trim()){let n=y.value.filter(t=>t.parentId===e),r={id:`todo-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,text:t.trim(),state:`not-started`,parentId:e,tabId:b.value,order:n.length};await G(C,r);let i=y.value.find(t=>t.id===e);i&&i.state===`completed`&&(i.state=`in-progress`,await G(C,i),await $(i.parentId)),await Q()}},Fe=async e=>{if(!await J(`이 할 일과 모든 하위 할 일을 삭제하시겠습니까?`))return;let t=new Set([e]),n=e=>{y.value.filter(t=>t.parentId===e).forEach(e=>{t.add(e.id),n(e.id)})};n(e);let r=v.value.transaction(C,`readwrite`),i=r.objectStore(C);t.forEach(e=>i.delete(e)),r.oncomplete=async()=>{await Q()}},Ie=async e=>{let t=y.value.find(t=>t.id===e);if(!t)return;let n=await Y(`할일 내용을 수정하세요:`,t.text,`할일 수정`);n&&n.trim()&&n.trim()!==t.text&&(t.text=n.trim(),await G(C,t),await Q())},Le=e=>{S.value.has(e)?S.value.delete(e):S.value.add(e)},Re=async(e,t)=>{let n=y.value.find(t=>t.id===e);n&&n.state!==t&&(n.state=t,await G(C,n),await $(n.parentId),t===`completed`&&await ze(e,`completed`),await Q())},$=async e=>{if(!e)return;let t=y.value.find(t=>t.id===e),n=y.value.filter(t=>t.parentId===e);if(t&&n.length>0){let e=n.every(e=>e.state===`completed`),r=n.some(e=>e.state===`in-progress`),i=e?`completed`:r||n.some(e=>e.state===`completed`)?`in-progress`:`not-started`;t.state!==i&&(t.state=i,await G(C,t),await $(t.parentId))}},ze=async(e,t)=>{let n=y.value.filter(t=>t.parentId===e);for(let e of n)e.state!==t&&(e.state=t,await G(C,e),await ze(e.id,t))},Be=async()=>{if(!b.value||y.value.length===0){await q(`초기화할 할일이 없습니다.`);return}if(!await J(`현재 탭의 모든 할일을 "시작하지 않음" 상태로 변경하시겠습니까?`))return;let e=[];y.value.forEach(t=>{t.state!==`not-started`&&(t.state=`not-started`,e.push(G(C,t)))}),e.length>0?(await Promise.all(e),await Q(),await q(`${e.length}개의 할일이 초기화되었습니다.`)):await q(`이미 모든 할일이 "시작하지 않음" 상태입니다.`)},Ve=async()=>{if(!b.value||y.value.length===0){await q(`삭제할 완료된 할일이 없습니다.`);return}let e=y.value.filter(e=>e.state===`completed`);if(e.length===0){await q(`완료된 할일이 없습니다.`);return}if(!await J(`완료된 ${e.length}개의 할일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`))return;let t=v.value.transaction(C,`readwrite`),n=t.objectStore(C);e.forEach(e=>n.delete(e.id)),t.oncomplete=async()=>{await Q(),await q(`${e.length}개의 완료된 할일이 삭제되었습니다.`)}},He=e=>e===`completed`?`[x]`:e===`in-progress`?`[o]`:`[ ]`,Ue=e=>{if(!e||e.length===0)return``;let t=xe(e),n=``,r=(e,t=0)=>{let i=`  `.repeat(t),a=He(e.state);n+=i+`- `+a+` `+e.text+`
`,e.subtasks&&e.subtasks.length>0&&e.subtasks.forEach(e=>{r(e,t+1)})};return t.forEach(e=>r(e)),n.trim()},We=async()=>{if(!b.value){await q(`먼저 탭을 선택해주세요.`);return}if(y.value.length===0){await q(`내보낼 할일이 없습니다.`);return}F.value=Ue(y.value),O.value&&O.value.showModal()},Ge=async()=>{try{await navigator.clipboard.writeText(F.value),await q(`할일 목록이 클립보드에 복사되었습니다.`)}catch(e){console.error(`클립보드 복사 실패:`,e),j.value&&(j.value.select(),document.execCommand(`copy`)),await q(`할일 목록이 클립보드에 복사되었습니다.`)}},Ke=async()=>{if(!b.value){await q(`먼저 탭을 선택해주세요.`);return}let e=Je(F.value,b.value);if(e.length===0){await q(`적용할 항목이 없습니다. 마크다운 형식(- [ ] / - [o] / - [x] + 내용)을 확인해주세요.`);return}let t=v.value.transaction(C,`readwrite`),n=t.objectStore(C);y.value.map(e=>e.id).forEach(e=>n.delete(e)),e.forEach(e=>n.put(e)),await new Promise(e=>t.oncomplete=e),await Q(),Qe(),await q(`편집 내용 ${e.length}개 항목으로 적용되었습니다.`)},qe=e=>{let t=e.match(/^\s*-\s*\[\s*([ xo])\]\s*(.*)$/i);if(t){let n=t[1].toLowerCase(),r=n===`x`?`completed`:n===`o`?`in-progress`:`not-started`,i=t[2].trim();return{indent:e.match(/^\s*/)[0].length,state:r,text:i}}let n=e.match(/^\s*((?:[-*+]|\d+\.)\s+)(.*)$/);if(n){let t=e.match(/^\s*/)[0].length,r=n[2].trim();return{indent:t,state:`not-started`,text:r}}return null},Je=(e,t)=>{let n=e.split(`
`),r=[],i=[],a=new Map;return n.forEach(e=>{let n=qe(e);if(!n||!n.text)return;let{indent:o,state:s,text:c}=n,l=`todo-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;for(;i.length>0&&i[i.length-1].indent>=o;)i.pop();let u=i.length>0?i[i.length-1].id:null,d=a.get(u)||0;r.push({id:l,text:c,state:s,parentId:u,tabId:t,order:d}),a.set(u,d+1),i.push({id:l,indent:o})}),r},Ye=async()=>{if(!b.value){await q(`먼저 탭을 선택하거나 생성해주세요.`);return}let e=P.value,t=Je(e,b.value);if(t.length>0){let e=v.value.transaction(C,`readwrite`);t.forEach(t=>e.objectStore(C).put(t)),await new Promise(t=>e.oncomplete=t),P.value=``,Ze(),await Q()}},Xe=()=>{D.value&&(D.value.showModal(),i(()=>{A.value&&A.value.focus()}))},Ze=()=>{D.value&&D.value.close()},Qe=()=>{O.value&&O.value.close()},$e=(e,t)=>t<=0?0:(e.slice(0,t).match(/\n/g)||[]).length,et=(e,t)=>{let n=e.split(`
`);if(t<=0)return 0;let r=0;for(let e=0;e<t&&e<n.length;e++)r+=n[e].length+1;return r},tt=e=>{if(!e.altKey||e.key!==`ArrowUp`&&e.key!==`ArrowDown`)return;let t=j.value;if(!t)return;e.preventDefault();let n=F.value,r=n.split(`
`);if(r.length===0)return;let a=t.selectionStart,o=t.selectionEnd,s=$e(n,a),c=$e(n,o>0?o-1:0),l=c-s+1;if(e.key===`ArrowUp`){if(s===0)return;let e=r.splice(s,l);r.splice(s-1,0,...e)}else{if(c>=r.length-1)return;let e=r.splice(s,l);r.splice(s+1,0,...e)}let u=r.join(`
`);F.value=u,i(()=>{if(!j.value)return;let t=e.key===`ArrowUp`?s-1:s+1,n=t+l-1;j.value.selectionStart=et(u,t),j.value.selectionEnd=et(u,n+1),j.value.focus()})},nt=e=>{if(e.key===`Tab`){e.preventDefault();let t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value,a=n;for(;a>0&&i[a-1]!==`
`;)a--;let o=r;for(r>n&&i[r-1]===`
`&&(o=r-1);o<i.length&&i[o]!==`
`;)o++;let s=i.substring(a,o),c=s.split(`
`),l;if(e.shiftKey){l=c.map(e=>e.startsWith(`  `)?e.substring(2):e).join(`
`),t.value=i.substring(0,a)+l+i.substring(o);let e=c[0].startsWith(`  `)?2:0;t.selectionStart=Math.max(a,n-e),t.selectionEnd=r+(l.length-s.length)}else{let e=c.map(e=>`  `+e);l=e.join(`
`),t.value=i.substring(0,a)+l+i.substring(o),t.selectionStart=n+2,t.selectionEnd=r+e.length*2}}(e.ctrlKey||e.metaKey)&&e.key===`Enter`&&(e.preventDefault(),Ye())},rt=(e,t)=>{H.value=t,e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/plain`,t)},it=e=>{e.target.closest(`li`)?.classList.remove(`dragging`),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),H.value=null},at=(e,t)=>{t!==H.value&&(document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`)),e.target.closest(`li`)?.classList.add(`drag-over`))},ot=e=>{e.target.closest(`li`)?.classList.remove(`drag-over`)},st=async(e,t)=>{e.preventDefault(),document.querySelectorAll(`.drag-over`).forEach(e=>e.classList.remove(`drag-over`));let n=H.value;!t||n===t||await ct(n,t)},ct=async(e,t)=>{let n=y.value.find(t=>t.id===e),r=y.value.find(e=>e.id===t);if(!n||!r)return;let i=n.parentId??null,a=r.parentId??null;if(i===a){let n=y.value.filter(e=>(e.parentId??null)===i).sort((e,t)=>(e.order||0)-(t.order||0)),r=n.findIndex(t=>t.id===e),a=n.findIndex(e=>e.id===t);if(r===-1||a===-1)return;let[o]=n.splice(r,1);n.splice(a,0,o);let s=[];n.forEach((e,t)=>{e.order!==t&&(e.order=t,s.push(G(C,e)))}),s.length>0&&(await Promise.all(s),await Q())}else await lt(e,t)},lt=async(e,t)=>{let n=y.value.find(t=>t.id===e),r=y.value.find(e=>e.id===t);if(!n||!r||e===t)return;let i=(e,t)=>{let n=y.value.filter(t=>t.parentId===e);for(let e of n)if(e.id===t||i(e.id,t))return!0;return!1};if(i(e,t)){await q(`하위 할일을 상위 할일로 만들 수 없습니다.`);return}let a=n.text.length>30?n.text.substring(0,30)+`...`:n.text,o=r.text.length>30?r.text.substring(0,30)+`...`:r.text,s=`"${a}"을(를) "${o}"의 하위 할일로 만들겠습니까?`;if(!await J(s,`계층 구조 변경`))return;let c=n.parentId,l=y.value.filter(e=>e.parentId===c);n.parentId=t,n.order=y.value.filter(e=>e.parentId===t).length;let u=[G(C,n)];l.forEach((e,t)=>{e.order!==t&&(e.order=t,u.push(G(C,e)))}),await Promise.all(u),await Q()},ut=async()=>{let e=E.value,t=await Y(`새 제목을 입력하세요:`,e,`제목 편집`);t&&t.trim()&&t.trim()!==e&&(E.value=t.trim(),document.title=t.trim(),localStorage.setItem(`todoAppTitle`,t.trim()))},dt=async()=>{try{let e=localStorage.getItem(`todoAppTitle`);e&&(E.value=e,document.title=e),await Se();let t=await U(w);if(t.length===0){let e={id:`tab-${Date.now()}`,name:`기본 목록`,order:0};await G(w,e),t.push(e)}let n=localStorage.getItem(`currentTabId`);(!n||!t.some(e=>e.id===n))&&(n=t[0].id),await Z(n)}catch(e){console.error(`Failed to initialize app:`,e)}};return _(()=>{dt()}),(r,i)=>(e(),s(`div`,ne,[f(`div`,re,[f(`h1`,{onDblclick:ut,id:`mainTitle`},t(E.value),33),f(`div`,ie,[(e(!0),s(a,null,g(ve.value,n=>(e(),s(`div`,{key:n.id,class:l([`tab-item`,{active:n.id===b.value}]),draggable:!0,onDragstart:e=>Oe(e,n.id),onDragend:ke,onDragover:m(e=>Ae(e,n.id),[`prevent`]),onDragleave:e=>je(e,n.id),onDrop:m(e=>Me(e,n.id),[`prevent`]),onClick:e=>Z(n.id)},[f(`span`,{onDblclick:m(e=>Ee(n),[`stop`])},t(n.name),41,oe),f(`button`,{class:`delete-tab-btn`,onClick:m(e=>De(n.id),[`stop`])},`×`,8,se)],42,ae))),128)),f(`button`,{id:`addTabBtn`,onClick:Te},`+`)]),f(`div`,ce,[f(`button`,{onClick:Xe},`할일 목록 불러오기`),f(`button`,{onClick:We},`할일 목록 수정 및 내보내기`),f(`button`,{onClick:Be},`모두 시작전으로`),f(`button`,{onClick:Ve},`완료항목 삭제`),n(f(`input`,{type:`text`,"onUpdate:modelValue":i[0]||=e=>T.value=e,placeholder:`할일 검색...`,"aria-label":`할일 검색`},null,512),[[p,T.value]])]),ye.value.length>0?(e(),s(`ul`,le,[(e(!0),s(a,null,g(be.value,t=>(e(),ee(te,{key:t.id,todo:t,"collapsed-subtasks":S.value,onToggleState:Re,onAddSubtask:Pe,onDeleteTodo:Fe,onEditText:Ie,onToggleCollapse:Le,onDragStart:rt,onDragEnd:it,onDragOver:at,onDragLeave:ot,onDrop:st},null,8,[`todo`,`collapsed-subtasks`]))),128))])):(e(),s(`div`,ue,[T.value?(e(),s(a,{key:0},[h(` '`+t(T.value)+`'에 대한 검색 결과가 없습니다. `,1)],64)):b.value?(e(),s(a,{key:1},[i[4]||=h(` 할일 목록이 없습니다.`,-1),i[5]||=f(`br`,null,null,-1),i[6]||=h(`'할일 목록 불러오기' 버튼으로 목록을추가하세요. `,-1)],64)):(e(),s(a,{key:2},[h(` 탭을 선택하거나 '+' 버튼을 눌러 새 탭을 만드세요. `)],64))]))]),f(`dialog`,{ref_key:`markdownModal`,ref:D,class:`modal`},[i[7]||=f(`h2`,null,`새 할일 목록 불러오기`,-1),n(f(`textarea`,{ref_key:`modalMarkdownInput`,ref:A,"onUpdate:modelValue":i[1]||=e=>P.value=e,placeholder:`여기에 할일 목록을 마크다운 형식으로 입력하세요.
들여쓰기를 사용하여 하위 작업을 만들 수 있습니다.`,onKeydown:nt},null,544),[[p,P.value]]),f(`div`,{class:`dialog-actions`},[f(`button`,{onClick:Ye,id:`confirmLoadBtn`},`불러오기`),f(`button`,{onClick:Ze,id:`closeModalBtn`},`취소`)])],512),f(`dialog`,{ref_key:`exportModal`,ref:O,class:`modal`},[i[8]||=f(`h2`,null,`할일 목록 수정 및 내보내기`,-1),i[9]||=f(`p`,null,[h(`진행상황 포함 마크다운: `),f(`code`,null,`- [ ]`),h(` 시작전, `),f(`code`,null,`- [o]`),h(` 진행중, `),f(`code`,null,`- [x]`),h(` 완료. 내용을 수정한 뒤 적용할 수 있습니다.`)],-1),i[10]||=f(`p`,{class:`export-textarea-hint`,title:`Alt+↑: 선택한 줄을 위로 이동 · Alt+↓: 선택한 줄을 아래로 이동`},`Alt+↑ / Alt+↓: 선택한 줄을 위·아래로 이동`,-1),n(f(`textarea`,{ref_key:`exportTextarea`,ref:j,"onUpdate:modelValue":i[2]||=e=>F.value=e,placeholder:`내보낼 할일 목록이 여기에 표시됩니다.`,title:`Alt+↑: 선택한 줄을 위로 이동 · Alt+↓: 선택한 줄을 아래로 이동`,onKeydown:tt},null,544),[[p,F.value]]),f(`div`,{class:`dialog-actions`},[f(`button`,{onClick:Ke,class:`apply-export-btn`},`편집 내용 적용`),f(`button`,{onClick:Ge},`클립보드에 복사`),f(`button`,{onClick:Qe},`닫기`)])],512),f(`dialog`,{ref_key:`customModal`,ref:k,class:`modal`},[f(`h3`,null,t(me.value),1),f(`p`,null,t(I.value),1),L.value===`prompt`?n((e(),s(`input`,{key:0,type:`text`,ref_key:`customModalInput`,ref:M,"onUpdate:modelValue":i[3]||=e=>R.value=e,onKeydown:d(Ce,[`enter`])},null,544)),[[p,R.value]]):c(``,!0),f(`div`,de,[B.value?(e(),s(`button`,{key:0,ref_key:`customModalOkBtn`,ref:N,class:`custom-modal-ok`,onClick:Ce},t(ge.value),513)):c(``,!0),he.value?(e(),s(`button`,{key:1,class:`custom-modal-cancel`,onClick:we},t(_e.value),1)):c(``,!0)])],512)]))}},[[`__scopeId`,`data-v-3f60c274`]]);export{T as default};