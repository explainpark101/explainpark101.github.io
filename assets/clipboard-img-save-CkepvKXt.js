import{A as e,D as t,E as n,M as r,O as i,S as a,_ as o,b as s,f as c,h as l,m as u,r as d,v as f,w as p,x as m,y as h}from"./index-BsTOteZI.js";import{t as g}from"./_plugin-vue_export-helper-9n1O4nl6.js";var _={class:`clipboard-img-save`},v={class:`container`},y={key:0,class:`preview-placeholder`},b=[`src`],x={class:`controls`},S={class:`format-toggle`},C={class:`toggle-switch`},w=[`disabled`],T={key:0,class:`error-message`},E=[`href`,`download`],D=g({__name:`index`,setup(g){let D=i(null),O=i(null),k=i(!1),A=i(``),j=i(null),M=i(``),N=i(``);async function P(){try{if(!navigator.clipboard||!navigator.clipboard.read){L(`í´ë¦½ë³´ë“œ APIë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.`);return}let e=await navigator.clipboard.read(),t=!1;for(let n of e){for(let e of n.types)if(e.startsWith(`image/`)){let r=await n.getType(e);F(r),t=!0;break}if(t)break}t||L(`í´ë¦½ë³´ë“œì— ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.`)}catch(e){console.error(`í´ë¦½ë³´ë“œ ì½ê¸° ì˜¤ë¥˜:`,e),L(`í´ë¦½ë³´ë“œì—ì„œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¶Œí•œì„ í™•ì¸í•´ì£¼ì„¸ìš”.`)}}function F(e){O.value&&URL.revokeObjectURL(O.value),O.value=URL.createObjectURL(e),D.value=e,R()}async function I(){if(!D.value){L(`ì €ì¥í•  ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.`);return}try{let e=k.value?`webp`:`png`,t=new Image,n=document.createElement(`canvas`),r=n.getContext(`2d`);t.onload=function(){n.width=t.naturalWidth,n.height=t.naturalHeight,r.drawImage(t,0,0),n.toBlob(function(t){let n=URL.createObjectURL(t);M.value=n,N.value=`${Date.now()}.${e}`,h(()=>{j.value&&(j.value.click(),setTimeout(()=>{URL.revokeObjectURL(n),M.value=``,N.value=``},100))})},`image/${e}`,.95)},t.src=URL.createObjectURL(D.value)}catch(e){console.error(`ì´ë¯¸ì§€ ì €ì¥ ì˜¤ë¥˜:`,e),L(`ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.`)}}function L(e){A.value=e}function R(){A.value=``}function z(e){e.ctrlKey&&e.key===`v`&&(e.preventDefault(),P())}return s(()=>{document.addEventListener(`keydown`,z)}),m(()=>{document.removeEventListener(`keydown`,z),O.value&&URL.revokeObjectURL(O.value)}),(i,s)=>{let m=p(`router-link`);return a(),l(`div`,_,[f(m,{to:`/`,class:`home-button`},{default:n(()=>[...s[1]||=[c(`svg`,{width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[c(`path`,{d:`M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`}),c(`polyline`,{points:`9,22 9,12 15,12 15,22`})],-1),o(` ì•± ëª©ë¡ `,-1)]]),_:1}),c(`div`,v,[s[5]||=c(`h1`,null,`ğŸ–¼ï¸ í´ë¦½ë³´ë“œ ì´ë¯¸ì§€ ì €ì¥ê¸°`,-1),c(`button`,{class:`paste-button`,onClick:P},` ğŸ“‹ í´ë¦½ë³´ë“œì—ì„œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸° `),c(`div`,{class:e([`preview-container`,{"has-image":D.value}])},[D.value?u(``,!0):(a(),l(`div`,y,` ì´ë¯¸ì§€ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í•œ í›„ ìœ„ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš” `)),O.value?(a(),l(`img`,{key:1,src:O.value,alt:`í´ë¦½ë³´ë“œ ì´ë¯¸ì§€`,class:`preview-image`},null,8,b)):u(``,!0)],2),c(`div`,x,[c(`div`,S,[s[3]||=c(`span`,{class:`format-label`},`PNG`,-1),c(`label`,C,[t(c(`input`,{type:`checkbox`,"onUpdate:modelValue":s[0]||=e=>k.value=e},null,512),[[d,k.value]]),s[2]||=c(`span`,{class:`slider`},null,-1)]),s[4]||=c(`span`,{class:`format-label`},`WEBP`,-1)])]),c(`button`,{class:e([`save-button`,{enabled:D.value}]),onClick:I,disabled:!D.value},` ğŸ’¾ ì´ë¯¸ì§€ ì €ì¥í•˜ê¸° `,10,w),A.value?(a(),l(`div`,T,r(A.value),1)):u(``,!0),s[6]||=c(`div`,{class:`info-message`},` ğŸ’¡ íŒ: ì´ ê¸°ëŠ¥ì€ HTTPS ë˜ëŠ” localhost í™˜ê²½ì—ì„œë§Œ ì‘ë™í•©ë‹ˆë‹¤. `,-1)]),c(`a`,{ref_key:`downloadLink`,ref:j,href:M.value,download:N.value,style:{display:`none`}},null,8,E)])}}},[[`__scopeId`,`data-v-ddbfecc6`]]);export{D as default};