import{A as e,C as t,M as n,O as r,S as i,_ as a,d as o,f as s,h as c,m as l,u}from"./index-D0aBWOAh.js";import{t as d}from"./_plugin-vue_export-helper-9n1O4nl6.js";var f={class:`container`},p={class:`card`},m={class:`upload-section`},h={class:`file-input-wrapper`},g={key:0,class:`selected-file`},_=[`disabled`],v={class:`results-section`},y={key:0,class:`message-icon`},b={key:1,class:`message-icon`},x={key:1,class:`table-wrapper`},S={class:`results-table`},C={class:`table-cell rank-cell`},w={key:1,class:`rank-badge rank-other`},T={class:`table-cell name-cell`},E={class:`table-cell count-cell`},D={class:`count-badge`},O=d({__name:`index`,setup(d){let O=r(null),k=r([]),A=r(``),j=r(`info`),M=o(()=>j.value===`error`?`message-error`:`message-info`);function N(e){O.value=e.target.files[0],k.value=[],A.value=``}function P(){if(!O.value){A.value=`파일을 먼저 선택해주세요.`,j.value=`error`,k.value=[];return}let e=new FileReader;e.onload=e=>{let t=e.target.result;F(t)},e.onerror=()=>{A.value=`파일을 읽는 중 오류가 발생했습니다.`,j.value=`error`,k.value=[]},e.readAsText(O.value,`UTF-8`)}function F(e){let t=new Map,n=/^\d{4}년 \d{1,2}월 \d{1,2}일 (?:오전|오후) \d{1,2}:\d{1,2}, (.*?)\s*:\s*.*/;e.split(`
`).forEach(e=>{let r=e.match(n);if(r&&r[1]){let e=r[1].trim();if(e){let n=(t.get(e)||0)+1;t.set(e,n)}}}),t.size===0?(A.value=`분석할 수 있는 유효한 대화 라인을 찾지 못했습니다. 파일 형식을 확인해주세요.`,j.value=`info`,k.value=[]):(k.value=Array.from(t.entries()).sort((e,t)=>t[1]-e[1]),A.value=``)}return(r,o)=>(i(),c(`div`,f,[s(`div`,p,[o[3]||=s(`div`,{class:`header`},[s(`h1`,{class:`title`},`말 많은 사람 찾아내기`),s(`p`,{class:`description`},[a(` 카카오톡 등에서 백업한 `),s(`code`,{class:`code-text`},`.txt`),a(` 파일을 업로드하면, 대화 라인에서 이름을 추출하여 채팅횟수를 집계합니다. `)])],-1),s(`div`,m,[s(`div`,h,[o[1]||=s(`label`,{for:`file-upload`,class:`file-label`},` 텍스트 파일 (.txt) `,-1),s(`input`,{id:`file-upload`,name:`file-upload`,type:`file`,accept:`.txt`,onChange:N,class:`file-input`},null,32),O.value?(i(),c(`div`,g,[o[0]||=s(`span`,{class:`file-indicator`},null,-1),a(` `+n(O.value.name),1)])):l(``,!0)]),s(`button`,{onClick:P,disabled:!O.value,class:`analyze-button`},` 분석 시작 `,8,_)]),s(`div`,v,[A.value?(i(),c(`div`,{key:0,class:e([`message`,M.value])},[j.value===`error`?(i(),c(`span`,y,`⚠️`)):(i(),c(`span`,b,`ℹ️`)),s(`span`,null,n(A.value),1)],2)):l(``,!0),k.value.length>0?(i(),c(`div`,x,[s(`table`,S,[o[2]||=s(`thead`,null,[s(`tr`,null,[s(`th`,{scope:`col`,class:`table-header`},`순위`),s(`th`,{scope:`col`,class:`table-header`},`이름`),s(`th`,{scope:`col`,class:`table-header`},`횟수`)])],-1),s(`tbody`,null,[(i(!0),c(u,null,t(k.value,([t,r],a)=>(i(),c(`tr`,{key:t,class:`table-row`},[s(`td`,C,[a<3?(i(),c(`span`,{key:0,class:e([`rank-badge`,`rank-${a+1}`])},n(a+1),3)):(i(),c(`span`,w,n(a+1),1))]),s(`td`,T,n(t),1),s(`td`,E,[s(`span`,D,n(r)+`개`,1)])]))),128))])])])):l(``,!0)])])]))}},[[`__scopeId`,`data-v-532254cd`]]);export{O as default};